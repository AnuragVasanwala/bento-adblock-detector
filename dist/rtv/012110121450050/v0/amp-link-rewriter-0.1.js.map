{"version":3,"mappings":"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","names":["Object","create","a","b","prototype","globalThis","window","self","global","c","length","d","Math","Error","$jscomp.getGlobal","this","Symbol","setPrototypeOf","m","p","q","__proto__","n","hasOwn_","hasOwnProperty","scopeSelectorSupported","closest","element","callback","el","opt_stopAt","parentElement","closestAncestorElementBySelector","selector","matcher","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","call","getDataParamsFromAttributes","key","dataset","params","paramPattern","PREFIX_DATA_ATTR","match","param","toLowerCase","substr","computeParamNameFunc","iterateCursor","iterable","cb","i","env","AMP_CONFIG","cdnProxyRegex","RegExp","getMetaUrl","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","__AMP_LOG","user","dev","userForEmbed","logs","callLogConstructor","opt_element","win","ownerDocument","defaultView","getServiceForDoc","elementOrAmpDoc","id","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","getServiceInternal","nodeOrDoc","nodeType","__AMP_TOP","getAmpDoc","isSingleDoc","isServiceRegistered","services","__AMP_SERVICES","s","obj","ctor","context","resolve","service","parseAttribute","attribute","newAttr","keys","forEach","getScopeElements","ampDoc","configOpts","doc","getRootNode","cssSelector","section","join","selection","querySelectorAll","filteredSelection","hasAttributeValues","push","htmlElement","anchorAttr","every","reg","WL_ANCHOR_ATTR","REG_DOMAIN_URL","PAGE_PROP_ALLOWLIST","SOURCE_URL","DOCUMENT_REFERRER","AMP_GEO","LinkRewriter","referrer","ampElement","ampDoc_","tagName","undefined","testElement","createElement","testChild","appendChild","e","r","replace","root","classList","add","unique","scopedSelector","elements","remove","M","scripts","P","script","toUpperCase","JSON","parse","textContent","A","ha","createError","TAG","config","C","assert","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","configOpts_","output","toString","vars","scopeDocument","listElements_","referrer_","rewrittenUrl_","urlReplacementService_","V","anchor","href","sourceTrimmedDomain","get","sourceUrl","canonicalTrimmedDomain","canonicalUrl","isInternalLink_","setRedirectUrl_","expandUrlSync","replaceVars_","ia","filter","trimmedDomains","some","domain","domainHrefMatch","val","assign","random","encodeURIComponent","Set","constructor","AmpLinkRewriter","rewriter_","BaseElement","AMP","$jscomp.objectCreate","X","$jscomp.setPrototypeOf","Y","defineProperties","Z","getOwnPropertyDescriptor","defineProperty","G","viewer","whenReady","then","getReferrerUrl","letsRockIt_","bind","W","attachClickEvent_","registerAnchorMutator","handleClick","LINK_REWRITER_MANAGER","layout","NODISPLAY","registerElement"],"sources":["[synthetic:util/objectcreate]","[synthetic:util/global]","[synthetic:util/shouldpolyfill]","[synthetic:es6/util/setprototypeof]","src/core/types/object/index.js","src/core/dom/css-selectors.js","src/core/dom/query.js","src/core/dom/index.js","extensions/amp-link-rewriter/0.1/link-rewriter.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","extensions/amp-link-rewriter/0.1/config-options.js","extensions/amp-link-rewriter/0.1/scope.js","src/core/types/object/json.js","src/service/index.js","src/url.js","extensions/amp-link-rewriter/0.1/amp-link-rewriter.js","[synthetic:es6/util/inherits]","src/service/navigation.js","src/core/dom/layout/index.js"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2110121450047/"}
