(self.AMP=self.AMP||[]).push({m:0,v:"2110121450047",n:"amp-sidebar",ev:"0.2",l:false,f:function(AMP,_){"use strict";var l;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function n(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}ca(this);"function"===typeof Symbol&&Symbol("x");var p;if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var da={a:!0},ea={};try{ea.__proto__=da;q=ea.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=p;function r(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.$a=b.prototype}function ha(a){return a?Array.prototype.slice.call(a):[]}var t=Array.isArray;function ia(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?c.push(f):(d<e&&(a[d]=f),d++)}d<a.length&&(a.length=d)}function ja(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1}function ka(a){return 1==(null==a?void 0:a.nodeType)}function u(){}function v(){this.B=null}l=v.prototype;l.add=function(a){var b=this;this.B||(this.B=[]);this.B.push(a);return function(){b.remove(a)}};l.remove=function(a){if(this.B){var b=this.B;a=b.indexOf(a);-1!=a&&b.splice(a,1)}};l.removeAll=function(){this.B&&(this.B.length=0)};l.fire=function(a){if(this.B)for(var b=n(this.B),c=b.next();!c.done;c=b.next())c=c.value,c(a)};l.getHandlerCount=function(){var a,b;return null!=(b=null==(a=this.B)?void 0:a.length)?b:0};var w;function la(a){if(void 0!==w)return w;w=!1;try{var b={get passive(){w=!0;return!1}};a.addEventListener("test-options",null,b);a.removeEventListener("test-options",null,b)}catch(c){}return w}function ma(a){for(var b=null,c="",d=n(arguments),e=d.next();!e.done;e=d.next())if(e=e.value,e instanceof Error&&!b){var f=b=void 0;if(null==(f=Object.getOwnPropertyDescriptor(e,"message"))?0:f.writable)b=e;else{f=e.stack;var g=Error(e.message);for(b in e)g[b]=e[b];g.stack=f;b=g}}else c&&(c+=" "),c+=e;b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function na(a){var b=ma.apply(null,arguments);setTimeout((function(){var c,d;null==(d=(c=self).__AMP_REPORT_ERROR)||d.call(c,b);throw b}))}function x(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,c)}catch(e){na(e)}}function oa(a,b){function c(){d=0;var g=100-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();f=h;d||(d=a.setTimeout(c,100))}}var pa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function qa(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}var y=self.AMP_CONFIG||{},ra=("string"==typeof y.cdnProxyRegex?new RegExp(y.cdnProxyRegex):y.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function sa(a){if(self.document&&self.document.head&&(!self.location||!ra.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}y.cdnUrl||sa("runtime-host");y.geoApiUrl||sa("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var z=self.__AMP_LOG;function ta(){throw Error("failed to call initLogConstructor")}function A(){z.user||(z.user=ta());return z.user}function ua(a,b,c){return A().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var B;function va(a){return":not([toolbar]) [autoscroll]".replace(/^|,/g,"$&"+a+" ")}function wa(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function C(a,b){return a.closest?a.closest(b):wa(a,(function(c){var d=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return d?d.call(c,b):!1}))}function xa(a,b){var c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)&&c.push(a);return c}function ya(a){return xa(a,(function(b){if("string"==typeof b)var c=b;else b.nodeType===Node.ELEMENT_NODE&&(c=b.tagName);b=c&&c.toLowerCase().startsWith("i-")?!0:b.nodeType!==Node.ELEMENT_NODE?!1:b.hasAttribute("placeholder")||b.hasAttribute("fallback")||b.hasAttribute("overflow");return!b}))}function za(a){var b=a.isConnected;if(void 0!==b)return b;do{if(a=Aa(a),a.host)a=a.host;else break}while(1);return a.nodeType===Node.DOCUMENT_NODE}function Aa(a){if(Node.prototype.getRootNode)return a.getRootNode()||a;for(;a.parentNode&&(!a||"I-AMPHTML-SHADOW-ROOT"!=a.tagName&&(11!=a.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(a)));a=a.parentNode);return a}function Ba(a){return"rtl"==(a.body.getAttribute("dir")||a.documentElement.getAttribute("dir")||"ltr")}var Ca;function D(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return E(a,b)}function F(a,b){var c=G(a);c=Da(c);return E(c,b)}function Ea(a,b){a=G(a);a=Da(a);return Fa(a,b)?E(a,b):null}function G(a){return a.nodeType?D((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Da(a){a=G(a);return a.isSingleDoc()?a.win:a}function E(a,b){Fa(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Fa(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function H(a,b){var c=this;this.Ia=E(a,"timer");this.Pa=b;this.Na=0;this.W=-1;this.la=0;this.ra=!1;this.Ma=function(){c.ea()}}H.prototype.isPending=function(){return-1!=this.W};H.prototype.schedule=function(a){var b=a||this.Na;this.ra&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.la?(this.cancel(),this.la=c,this.W=this.Ia.delay(this.Ma,b),!0):!1};H.prototype.ea=function(){this.W=-1;this.la=0;this.ra=!0;this.Pa();this.ra=!1};H.prototype.cancel=function(){this.isPending()&&(this.Ia.cancel(this.W),this.W=-1)};function Ga(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}function Ha(a,b,c){this.C=a;this.h=[];this.R=[];this.A=[];this.j=[];this.o=null;this.Wa=b;this.Xa=c;this.ga=!1;this.ea=new H((a.ownerDocument||a).defaultView,this.Ca.bind(this));this.Ga=new v;this.V=Object.create(null);this.Aa=this.Ua.bind(this);this.ya=this.Sa.bind(this);this.za=this.Ta.bind(this);this.xa=this.Ra.bind(this);var d=la(a.ownerDocument.defaultView);this.C.addEventListener("touchstart",this.Aa,d?{passive:!0}:!1);this.C.addEventListener("touchend",this.ya);this.C.addEventListener("touchmove",this.za,d?{passive:!0}:!1);this.C.addEventListener("touchcancel",this.xa);this.na=!1}function Ia(a){var b=!1,c=!0;b=void 0===b?!1:b;c=void 0===c?!1:c;var d=b,e=c,f=a.__AMP_Gestures;f||(f=new Ha(a,d,e),a.__AMP_Gestures=f);return f}l=Ha.prototype;l.cleanup=function(){this.C.removeEventListener("touchstart",this.Aa);this.C.removeEventListener("touchend",this.ya);this.C.removeEventListener("touchmove",this.za);this.C.removeEventListener("touchcancel",this.xa);delete this.C.__AMP_Gestures;this.ea.cancel()};l.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.V[d];e||(this.h.push(c),e=new v,this.V[d]=e);return e.add(b)};l.removeGesture=function(a){var b=new a(this).getType();if(a=this.V[b]){a.removeAll();a=ja(this.h,(function(c){return c.getType()==b}));if(0>a)return!1;this.h.splice(a,1);this.A.splice(a,1);this.j.splice(a,1);this.R.splice(a,1);delete this.V[b];return!0}return!1};l.onPointerDown=function(a){return this.Ga.add(a)};l.Ua=function(a){var b=Date.now();this.ga=!1;this.Ga.fire(a);for(var c=0;c<this.h.length;c++)if(!this.A[c]&&(this.j[c]&&this.j[c]<b&&I(this,c),this.h[c].onTouchStart(a))){var d=c;this.R[d]=!0;this.j[d]=0}J(this,a)};l.Ta=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)this.R[c]&&(this.j[c]&&this.j[c]<b?I(this,c):this.h[c].onTouchMove(a)||I(this,c));J(this,a)};l.Sa=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)if(this.R[c])if(this.j[c]&&this.j[c]<b)I(this,c);else{this.h[c].onTouchEnd(a);var d=!this.j[c],e=this.j[c]<b;this.o!=this.h[c]&&(d||e)&&I(this,c)}J(this,a)};l.Ra=function(a){for(var b=0;b<this.h.length;b++){var c=b;this.A[c]=0;I(this,c)}J(this,a)};function J(a,b){var c=!!a.o||a.ga;a.ga=!1;if(!c)for(var d=Date.now(),e=0;e<a.h.length;e++)if(a.A[e]||a.j[e]&&a.j[e]>=d){c=!0;break}c?(b.stopPropagation(),a.Wa||b.preventDefault()):a.Xa&&b.stopPropagation();a.na&&(a.na=!1,a.Ca())}l.Ca=function(){for(var a=Date.now(),b=-1,c=0;c<this.h.length;c++)if(!this.A[c])this.j[c]&&this.j[c]<a&&I(this,c);else if(-1==b||this.A[c]>this.A[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.h.length;c++)!this.A[c]&&this.R[c]&&(d=Math.max(d,this.j[c]-a));if(2>d){a=b;c=this.h[a];for(var e=0;e<this.h.length;e++)if(e!=a){var f=e;this.A[f]=0;I(this,f)}this.A[a]=0;this.j[a]=0;this.o=c;c.acceptStart()}else this.ea.schedule(d)}};function I(a,b){a.R[b]=!1;a.j[b]=0;a.A[b]||a.h[b].acceptCancel()}function K(a,b){this.Za=a;this.aa=b}l=K.prototype;l.getType=function(){return this.Za};l.signalReady=function(a){var b=this.aa;if(b.o)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.A[d]=c+a,b.j[d]=0);b.na=!0}};l.signalPending=function(a){var b=this.aa;if(b.o)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.j[d]=c+a)};l.signalEnd=function(){var a=this.aa;a.o==this&&(a.o=null,a.ga=!0)};l.signalEmit=function(a,b){var c=this.aa.V[this.getType()];c&&c.fire(new Ga(this.getType(),a,Date.now(),b))};l.acceptStart=function(){};l.acceptCancel=function(){};l.onTouchStart=function(){return!1};l.onTouchMove=function(){return!1};l.onTouchEnd=function(){};function Ja(a,b,c){1>b&&(b=1);var d=.5+Math.min(b/33.34,.5);return a/b*d+c*(1-d)}function L(a,b,c,d){K.call(this,a,b);this.Da=c;this.La=d;this.o=!1;this.ua=this.ta=this.oa=this.$=this.Ha=this.qa=this.pa=this.L=this.K=this.P=this.O=0}r(L,K);l=L.prototype;l.onTouchStart=function(a){a=a.touches;return this.o&&a&&1<a.length?!0:a&&1==a.length?(this.Ha=Date.now(),this.O=a[0].clientX,this.P=a[0].clientY,!0):!1};l.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.K=b;this.L=c;if(this.o)M(this,!1,!1,a);else if(a=Math.abs(b-this.O),b=Math.abs(c-this.P),this.Da&&this.La)(8<=a||8<=b)&&this.signalReady(-10);else if(this.Da){if(8<=a&&a>b)this.signalReady(-10);else if(8<=b)return!1}else if(this.La){if(8<=b&&b>a)this.signalReady(-10);else if(8<=a)return!1}else return!1;return!0}return!1};l.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.o&&(this.o=!1,M(this,!1,!0,a),this.signalEnd())};l.acceptStart=function(){this.o=!0;this.pa=this.O;this.qa=this.P;this.oa=this.Ha;this.O=this.K;this.P=this.L;M(this,!0,!1,null)};l.acceptCancel=function(){this.o=!1};function M(a,b,c,d){a.$=Date.now();var e=a.$-a.oa;if(!c&&4<e||c&&16<e){var f=Ja(a.K-a.pa,e,a.ta),g=Ja(a.L-a.qa,e,a.ua);if(!c||32<e||0!=f||0!=g)a.ta=1e-4<Math.abs(f)?f:0,a.ua=1e-4<Math.abs(g)?g:0;a.pa=a.K;a.qa=a.L;a.oa=a.$}a.signalEmit({first:b,last:c,time:a.$,deltaX:a.K-a.O,deltaY:a.L-a.P,startX:a.O,startY:a.P,lastX:a.K,lastY:a.L,velocityX:a.ta,velocityY:a.ua},d)}function Ka(a){L.call(this,"swipe-x",a,!0,!1)}r(Ka,L);function N(a,b){var c=E(a,"timer");return c.promise(1).then((function(){return c.promise(b)}))}var O,La="Webkit webkit Moz moz ms O o".split(" "),Ma={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function P(a,b){for(var c in b){var d=a,e=b[c];var f=d.style;var g=c;if(g.startsWith("--"))f=g;else{O||(O=Object.create(null));var h=O[g];if(!h){h=g;if(void 0===f[g]){var k=g;k=k.charAt(0).toUpperCase()+k.slice(1);b:{for(var m=0;m<La.length;m++){var Y=La[m]+k;if(void 0!==f[Y]){k=Y;break b}}k=""}void 0!==f[k]&&(h=k)}O[g]=h}f=h}f&&(f.startsWith("--")?d.style.setProperty(f,e):d.style[f]=e)}}function Q(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}function R(a,b,c){this.va=a;this.ka=b;this.Va=c;this.ja="backward";this.U="horizontal";this.ca=this.H=null}function S(a){return"horizontal"==a.U?a.H.offsetWidth:a.H.offsetHeight}function Na(a,b,c){b="horizontal"==a.U?b:c;return"backward"==a.ja?-Math.min(b,0):Math.max(b,0)}function T(a,b,c){var d=void 0===c?"":c,e="backward"==a.ja?-b:b;return"translate("+("horizontal"==a.U?""+e+d:0)+", "+("horizontal"==a.U?0:""+e+d)+")"}R.prototype.startSwipe=function(a){var b=a.direction,c=a.mask,d=a.orientation;this.H=a.swipeElement;this.ca=c;this.ja=b;this.U=d};R.prototype.swipeMove=function(a){Oa(this,a,!1)};R.prototype.endSwipe=function(a){Oa(this,a,!0)};function Pa(a,b,c){var d=.75*c;P(a.H,{transform:T(a,b,"px"),transition:d+"ms transform cubic-bezier(0.15, .55, .3, 0.95)"});return N(a.va,d)}function Qa(a,b){var c=.8*b;return a.ka((function(){P(a.H,{transform:T(a,0),transition:c+"ms transform ease-in"});P(a.ca,{opacity:"",transition:c+"ms opacity ease-in"})})).then((function(){return N(a.va,c)}))}function Ra(a,b){var c=.75*(S(a)-b);return a.ka((function(){P(a.H,{transform:T(a,100,"%"),transition:c+"ms transform ease-out"});P(a.ca,{opacity:0,transition:c+"ms opacity ease-out"})})).then((function(){return N(a.va,c)})).then((function(){return a.Va()}))}function Sa(a,b,c){b=void 0===b?"":b;var d=c=void 0===c?"":c;P(a.H,{transform:b,transition:""});P(a.ca,{opacity:d,transition:""})}function Ta(a,b,c,d,e){var f=Na(a,22.5*b+d,22.5*c+e),g=Na(a,b,c),h=.5*S(a);return f<h&&.65>g?Pa(a,f,g).then((function(){return Qa(a,f)})):Ra(a,f)}function Oa(a,b,c){var d=b.deltaX,e=b.deltaY,f=b.velocityX,g=b.velocityY;a.ka((function(){if(c)Ta(a,f,g,d,e).then((function(){Sa(a)}));else{var h=Na(a,d,e),k=h/S(a),m=Math.max(0,1-k);Sa(a,T(a,h,"px"),m)}}))}function Ua(a,b){if(void 0!==B)var c=B;else{try{var d=b.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(h){c=!1}c=B=c}c?c=b.querySelector(va(":scope")):(b.classList.add("i-amphtml-scoped"),c=va(".i-amphtml-scoped"),c=b.querySelectorAll(c),b.classList.remove("i-amphtml-scoped"),c=void 0===c[0]?null:c[0]);if(c){var g=(a.win.getComputedStyle(b)||Ma)["overflow-y"];"scroll"!=g&&"auto"!=g?A().error("AMP-SIDEBAR","for 'autoscroll', 'nav [toolbar]' element must be set to overflow\n        'scroll' or 'auto' for 'autoscroll' to work."):F(a,"viewport").animateScrollWithinParent(c,b,"center",0)}}function Va(a,b){this.Ba=b;this.D=a;this.ia=b.getAmpDoc();this.Ya=this.D.getAttribute("toolbar");this.X=null;this.F=void 0;this.fa=!1;this.D.classList.add("amp-sidebar-toolbar-target-hidden");this.X=this.D.cloneNode(!0);a=ua(this.D.getAttribute("toolbar-target"),'"toolbar-target" is required',this.D);var c=this.ia.getElementById(a);if(c)this.F=c,this.X.classList.add("i-amphtml-toolbar"),Q(this.F,!1);else throw A().createError("Could not find the toolbar-target element with an id: "+a)}Va.prototype.onLayoutChange=function(){this.ia.win.matchMedia(this.Ya).matches?Wa(this):Xa(this)};function Wa(a){a.fa?Ca||(Ca=Promise.resolve(void 0)):a.Ba.mutateElement((function(){a.F&&(Q(a.F,!0),a.F.contains(a.X)||a.F.appendChild(a.X),a.D.classList.add("amp-sidebar-toolbar-target-shown"),a.D.classList.remove("amp-sidebar-toolbar-target-hidden"),a.fa=!0,Ua(a.ia,a.X))}))}function Xa(a){a.fa&&a.Ba.mutateElement((function(){a.F&&(Q(a.F,!1),a.D.classList.add("amp-sidebar-toolbar-target-hidden"),a.D.classList.remove("amp-sidebar-toolbar-target-shown"),a.fa=!1)}))}function Ya(a){if(a.__AMP__EXPERIMENT_TOGGLES)var b=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);b=a.__AMP__EXPERIMENT_TOGGLES;var c,d,e,f=Object.assign({},null!=(d=a.AMP_CONFIG)?d:{},null!=(e=a.AMP_EXP)?e:JSON.parse((null==(c=a.__AMP_EXP)?void 0:c.textContent)||"{}"));for(h in f)c=f[h],"number"===typeof c&&0<=c&&1>=c&&(b[h]=Math.random()<c);var g;f=null==(g=a.AMP_CONFIG)?void 0:g["allow-doc-opt-in"];if(t(f)&&f.length&&(g=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){g=g.getAttribute("content").split(",");var h=n(g);for(g=h.next();!g.done;g=h.next())g=g.value,f.includes(g)&&(b[g]=!0)}g=Object;f=g.assign;h="";try{"localStorage"in a&&(h=a.localStorage.getItem("amp-experiment-toggles"))}catch(Y){(z.dev||(z.dev=ta())).warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var k;h=(null==(k=h)?void 0:k.split(/\s*,\s*/g))||[];k=Object.create(null);h=n(h);for(c=h.next();!c.done;c=h.next())(c=c.value)&&("-"==c[0]?k[c.substr(1)]=!1:k[c]=!0);f.call(g,b,k);var m;k=null==(m=a.AMP_CONFIG)?void 0:m["allow-url-opt-in"];if(t(k)&&k.length){m=a.location.originalHash||a.location.hash;a=Object.create(null);if(m)for(;f=pa.exec(m);)g=qa(f[1],f[1]),f=f[2]?qa(f[2].replace(/\+/g," "),f[2]):"",a[g]=f;m=n(k);for(g=m.next();!g.done;g=m.next())k=g.value,g=a["e-"+k],"1"==g&&(b[k]=!0),"0"==g&&(b[k]=!1)}}return!!b["amp-sidebar-v2"]}var Za=/vertical/,$a=new WeakMap,U=new WeakMap,ab=new WeakMap;function bb(a,b){var c=a.ownerDocument.defaultView;if(c){var d=U.get(a);d||(d=[],U.set(a,d),cb(c).observe(a));if(!d.some((function(f){return f.callback===b&&0===f.type}))){d.push({type:0,callback:b});var e=ab.get(a);e&&setTimeout((function(){return db(0,b,e)}))}}}function eb(a,b){var c=U.get(a);c&&(ia(c,(function(d){return d.callback===b&&0===d.type})),0==c.length&&(U.delete(a),ab.delete(a),(c=a.ownerDocument.defaultView)&&cb(c).unobserve(a)))}function cb(a){var b=$a.get(a);b||(b=new a.ResizeObserver(fb),$a.set(a,b));return b}function fb(a){for(var b=new Set,c=a.length-1;0<=c;c--){var d=a[c],e=d.target;if(!b.has(e)){b.add(e);var f=U.get(e);if(f)for(ab.set(e,d),e=0;e<f.length;e++){var g=f[e];db(g.type,g.callback,d)}}}}function db(a,b,c){if(0==a)a=c.contentRect,x(b,{width:a.width,height:a.height});else if(1==a){var d=c.borderBoxSize;if(d)var e=0<d.length?d[0]:{inlineSize:0,blockSize:0};else{a=c.target;var f=Za.test(((a.ownerDocument||a).defaultView.getComputedStyle(a)||Ma)["writing-mode"]),g=a.offsetHeight,h=a.offsetWidth;if(f){var k=h;var m=g}else m=h,k=g;e={inlineSize:m,blockSize:k}}x(b,e)}}new Set(["c","v","a","ad"]);function gb(a){var b=a.indexOf("#");return-1==b?a:a.substring(0,b)}var hb=[];function ib(a){var b=[];a=jb(a);for(var c={},d=0;d<a.length;c={S:c.S},d++)c.S=a[d],c.S.parentNode&&ha(c.S.parentNode.children).filter(function(e){return function(f){return f!=e.S}}(c)).forEach((function(e){return b.push(e)}));return b}function jb(a){for(var b=[],c=a;c;c=c.parentNode||c.host)b.push(c);return b}function kb(a){for(var b=[];a;){a=Aa(a);var c=a.querySelectorAll("a[href],area[href],button,details summary,iframe,input,select,textarea,[contenteditable],[draggable],[tabindex]");Array.prototype.push.apply(b,c);a=a.host}return b}function lb(a){u(hb.every((function(h){return h.element!==a})));u(za(a));var b=ib(a),c=jb(a).filter(ka),d=kb(a),e=d.filter((function(h){return a.contains(h)&&void 0!==h.__AMP_MODAL_SAVED_TAB_INDEX})),f=d.filter((function(h){return!a.contains(h)&&void 0===h.__AMP_MODAL_SAVED_TAB_INDEX})),g=b.concat(c).map((function(h){return{element:h,prevValue:h.getAttribute("aria-hidden")}}));c.forEach((function(h){return h.removeAttribute("aria-hidden")}));b.forEach((function(h){return h.setAttribute("aria-hidden","true")}));f.forEach((function(h){h.__AMP_MODAL_SAVED_TAB_INDEX=h.getAttribute("tabindex");h.setAttribute("tabindex","-1")}));e.forEach((function(h){var k=h.__AMP_MODAL_SAVED_TAB_INDEX;null===k?h.removeAttribute("tabindex"):h.setAttribute("tabindex",k)}));hb.push({element:a,hiddenElementInfos:g,focusableExternalElements:f,focusableInternalElements:e})}function mb(a){var b=hb.pop(),c=b.focusableExternalElements,d=b.focusableInternalElements;b=b.hiddenElementInfos;u(za(a));b.forEach((function(e){var f=e.element;e=e.prevValue;null===e?f.removeAttribute("aria-hidden"):f.setAttribute("aria-hidden",e)}));d.forEach((function(e){return e.setAttribute("tabindex","-1")}));c.forEach((function(e){var f=e.__AMP_MODAL_SAVED_TAB_INDEX;null===f?e.removeAttribute("tabindex"):e.setAttribute("tabindex",f);e.__AMP_MODAL_SAVED_TAB_INDEX=void 0}))}function nb(a){return a.unmount()}function ob(a,b,c,d){if(b&&a.classList.contains("i-amphtml-element")&&(x(d,a),!c)){var e=a.getPlaceholder();e&&ob(e,!0,!1,d);return}var f=a.getElementsByClassName("i-amphtml-element");a=null;for(b=0;b<f.length;b++){var g=f[b];if(c)x(d,g);else{a=a||[];for(var h=!1,k=0;k<a.length;k++)if(a[k].contains(g)){h=!0;break}h||(a.push(g),x(d,g))}}}function V(a){var b=AMP.BaseElement.call(this,a)||this;b.I=null;b.ha=null;b.Ka=null;b.ba=null;b.J=b.win.document;b.Oa=b.J.documentElement;b.N=null;b.Ja=[];var c=D(b.win,"platform");b.Z=c.isIos();b.Qa=c.isSafari();b.Y=-1;b.wa=!1;b.T=null;b.ma=null;b.Ea=0;b.M=!1;b.Fa=null;b.sa=new R(b.win,(function(d){return b.mutateElement(d)}),(function(){return W(b,!0,3)}));b.G=b.G.bind(b);b.da=null;return b}r(V,AMP.BaseElement);V.prerenderAllowed=function(){return!0};l=V.prototype;l.buildCallback=function(){var a=this;ua(Ya(this.win),"Turning on the amp-sidebar-v2 experiment is necessary to use the new sidebar component.");var b=this.element;b.classList.add("i-amphtml-overlay");b.classList.add("i-amphtml-scrollable");this.N=b.getAttribute("side");this.I=this.getViewport();this.ha=Ea(b,"action");this.element.parentNode!=this.element.ownerDocument.body&&this.element.parentNode!=this.getAmpDoc().getBody()&&this.user().warn("amp-sidebar toolbar","amp-sidebar toolbar is recommended to be a direct child of the <body> element to preserve a logical DOM order.");"left"!=this.N&&"right"!=this.N&&(this.N=pb(this,Ba(this.J)?"right":"left"),b.setAttribute("side",this.N));this.getAmpDoc().whenReady().then((function(){ha(b.querySelectorAll("nav[toolbar]")).forEach((function(c){try{a.Ja.push(new Va(c,a))}catch(d){a.user().error("amp-sidebar toolbar","Failed to instantiate toolbar",d)}}));a.G()}));qb(this);b.addEventListener("amp:dom-update",(function(){qb(a)}));this.Z&&rb(this);b.hasAttribute("role")||b.setAttribute("role","dialog");b.setAttribute("aria-modal","false");b.tabIndex=-1;this.Oa.addEventListener("keydown",(function(c){"Escape"==c.key&&W(a,!1,3)&&c.preventDefault()}));this.T=sb(this);this.T||(this.T=this.createScreenReaderCloseButton(),b.insertBefore(this.T,this.element.firstChild));b.appendChild(this.createScreenReaderCloseButton());this.registerDefaultAction((function(c){tb(a,c.trust,c.caller)}),"open");this.registerAction("close",(function(c){W(a,!1,c.trust)}));this.registerAction("toggle",(function(c){var d=c.caller;c=c.trust;a.M?W(a,!1,c):tb(a,c,d)}));b.addEventListener("click",(function(c){if((c=C(c.target,"A"))&&c.href){var d=Ea(b,"url").parse(c.href),e=a.getAmpDoc().getUrl();gb(c.href)==gb(e)&&d.hash&&W(a,!1,3)}}),!0);ub(this,this.element)};l.attachedCallback=function(){this.da=this.I.onResize(oa(this.win,this.G));this.G()};l.detachedCallback=function(){this.da&&(this.da(),this.da=null)};function qb(a){if(!a.Fa){var b=a.element.querySelector("amp-nested-menu");b&&(D(a.win,"extensions").installExtensionForDoc(a.getAmpDoc(),"amp-nested-menu"),a.Fa=b)}}function sb(a){for(var b=a.element.querySelectorAll("[on]"),c=0;c<b.length;c++){var d=b[c],e=a.ha.hasResolvableActionForTarget(d,"tap",a.element,d.parentElement),f=C(d,"[toolbar]");if(e&&!f)return d}return null}l.createScreenReaderCloseButton=function(){var a=this,b=this.element.getAttribute("data-close-button-aria-label")||"Close the sidebar",c=this.J.createElement("button");c.textContent=b;c.classList.add("i-amphtml-screen-reader");c.tabIndex=-1;c.addEventListener("click",(function(){W(a,!1,3)}));return c};l.G=function(){var a=this;this.getAmpDoc().whenReady().then((function(){a.Ja.forEach((function(b){b.onLayoutChange()}))}))};function X(a,b,c){function d(){a.Ka===b&&a.mutateElement(b)}a.Ka=b;c?E(a.win,"timer").delay(d,c):d()}function vb(a,b){Q(a.element,!0);Q(Z(a),!0);a.I.addToFixedLayer(a.element,!0);a.mutateElement((function(){lb(a.element);a.element.setAttribute("aria-modal","true")}));a.Z&&a.Qa&&wb(a);a.element.scrollTop=1;a.element.setAttribute("open","");Z(a).setAttribute("open","");X(a,(function(){var c=ya(a.element),d=F(a.element,"owners");d.scheduleLayout(a.element,c);d.scheduleResume(a.element,c);if(!a.Z||!F(a.element,"viewer").isEmbedded())try{a.T.focus()}catch(e){}xb(a,"sidebarOpen",b);a.element.setAttribute("i-amphtml-sidebar-opened","");Z(a).setAttribute("i-amphtml-sidebar-opened","");a.setAsContainer()}),350);Ua(a.getAmpDoc(),a.element)}function yb(a,b,c){Z(a).removeAttribute("open");Z(a).removeAttribute("i-amphtml-sidebar-opened");a.mutateElement((function(){mb(a.element);a.element.setAttribute("aria-modal","false")}));a.element.removeAttribute("open");a.element.removeAttribute("i-amphtml-sidebar-opened");X(a,(function(){Q(a.element,!1);Q(Z(a),!1);F(a.element,"owners").schedulePause(a.element,ya(a.element));-1!=a.Y&&(F(a.getAmpDoc(),"history").pop(a.Y),a.Y=-1);xb(a,"sidebarClose",c);a.removeAsContainer();var d=a.element;d=t(d)?d:[d];for(var e=0;e<d.length;e++)ob(d[e],!1,!0,nb)}),b?0:350)}function tb(a,b,c){a.M||(a.M=!0,a.I.enterOverlayMode(),X(a,(function(){return vb(a,b)})),F(a.getAmpDoc(),"history").push((function(){return W(a,!1,b)})).then((function(d){a.Y=d})),c&&(a.ma=c,a.Ea=a.I.getScrollTop()),bb(a.element,a.G))}function W(a,b,c){if(!a.M)return!1;a.M=!1;a.I.leaveOverlayMode();var d=a.Ea==a.I.getScrollTop(),e=a.element.contains(a.J.activeElement);X(a,(function(){return yb(a,b,c)}));b&&(Q(a.element,!1),Q(Z(a),!1));if(a.ma&&e&&d&&(!a.Z||!F(a.element,"viewer").isEmbedded()))try{a.ma.focus()}catch(f){}eb(a.element,a.G);return!0}function ub(a,b){Ia(b).onGesture(Ka,(function(c){c=c.data;c.first?a.sa.startSwipe({swipeElement:a.element,mask:a.ba,direction:"left"==a.N?"backward":"forward",orientation:"horizontal"}):c.last?a.sa.endSwipe(c):a.sa.swipeMove(c)}))}function pb(a,b){return C(a.element,"amp-story")?"left"==b?"right":"left":b}function Z(a){if(!a.ba){var b=a.J.createElement("div");b.classList.add("amp-sidebar-mask","i-amphtml-sidebar-mask");b.addEventListener("click",(function(){W(a,!1,3)}));a.getAmpDoc().getBody().appendChild(b);b.addEventListener("touchmove",(function(c){c.preventDefault()}));ub(a,b);a.ba=b}return a.ba}function rb(a){a.element.addEventListener("scroll",(function(b){a.M&&(1>a.element.scrollTop?(a.element.scrollTop=1,b.preventDefault()):a.element.scrollHeight==a.element.scrollTop+a.element.offsetHeight&&(--a.element.scrollTop,b.preventDefault()))}))}function wb(a){if(!a.wa){var b=a.J.createElement("div");P(b,{height:"54px",width:"100%","background-color":"transparent"});a.element.appendChild(b);a.wa=!0}}function xb(a,b,c){var d=a.win;var e="amp-sidebar toolbar."+b;var f={},g={detail:f};Object.assign(g,void 0);"function"==typeof d.CustomEvent?e=new d.CustomEvent(e,g):(d=d.document.createEvent("CustomEvent"),d.initCustomEvent(e,!!g.bubbles,!!g.cancelable,f),e=d);a.ha.trigger(a.element,b,e,c)}AMP.registerElement("amp-sidebar",V,"amp-sidebar{--story-page-vh:1vh;position:fixed!important;top:0;max-height:100vh!important;height:100vh;max-width:80vw;background-color:#efefef;min-width:45px!important;outline:none;overflow-x:hidden!important;overflow-y:auto!important;z-index:2147483647;-webkit-overflow-scrolling:touch;will-change:transform}amp-sidebar[side=left]{left:0!important;transform:translateX(-100%);animation-name:i-amphtml-sidebar-slide-out-left}amp-sidebar[side=left][open]{animation-name:i-amphtml-sidebar-slide-in-left}amp-sidebar[side=right]{right:0!important;transform:translateX(100%);animation-name:i-amphtml-sidebar-slide-out-right}amp-sidebar[side=right][open]{animation-name:i-amphtml-sidebar-slide-in-right}amp-sidebar[side][i-amphtml-sidebar-opened]{transform:none;animation:none}.i-amphtml-sidebar-mask,amp-sidebar[side]{animation-duration:233ms;animation-timing-function:cubic-bezier(0,0,.21,1);animation-fill-mode:forwards}.i-amphtml-toolbar>ol,.i-amphtml-toolbar>ul{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:auto;list-style-type:none;padding:0;margin:0}.amp-sidebar-mask,.i-amphtml-sidebar-mask{background-color:rgba(0,0,0,0.5)}.i-amphtml-sidebar-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;background-image:none!important;animation-name:i-amphtml-sidebar-mask-fade-out;z-index:2147483646}.i-amphtml-sidebar-mask[open]{animation-name:i-amphtml-sidebar-mask-fade-in}.i-amphtml-sidebar-mask[i-amphtml-sidebar-opened]{animation:none}@keyframes i-amphtml-sidebar-slide-in-left{0%{transform:translateX(-100%)}to{transform:translateX(0)}}@keyframes i-amphtml-sidebar-slide-out-left{0%{transform:translateX(0)}to{transform:translateX(-100%)}}@keyframes i-amphtml-sidebar-slide-in-right{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes i-amphtml-sidebar-slide-out-right{0%{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes i-amphtml-sidebar-mask-fade-in{0%{opacity:0}to{opacity:1}}@keyframes i-amphtml-sidebar-mask-fade-out{0%{opacity:1}to{opacity:0}}\n/*# sourceURL=/extensions/amp-sidebar/0.2/amp-sidebar.css*/")}});//# sourceMappingURL=amp-sidebar-0.2.js.map