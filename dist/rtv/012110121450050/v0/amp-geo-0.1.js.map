{"version":3,"mappings":"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","names":["Object","create","a","b","prototype","globalThis","window","self","global","c","length","d","Math","Error","$jscomp.getGlobal","this","Symbol","setPrototypeOf","h","p","q","__proto__","n","resolved","$jscomp.setPrototypeOf","toString_","toString","Array","isArray","tryParseJson","json","opt_onFailed","JSON","parse","e","isJsonScriptTag","element","tagName","getAttribute","toUpperCase","QUERY_STRING_REGEX","tryDecodeUriComponent","component","fallback","_fallback","decodeURIComponent","getHashParams","opt_win","location","hash","queryString","match","exec","name","value","replace","params","env","AMP_CONFIG","cdnProxyRegex","RegExp","getMetaUrl","document","head","test","origin","metaEl","querySelector","urls","thirdParty","thirdPartyFrameHost","thirdPartyFrameRegex","cdn","localhostRegex","errorReporting","betaErrorReporting","localDev","trustedViewerHosts","geoApi","__AMP_LOG","user","dev","userForEmbed","logs","callLogConstructor","getService","win","id","__AMP_TOP","getServiceInternal","getServiceForDocOrNull","elementOrAmpDoc","ampdoc","getAmpdoc","isSingleDoc","isServiceRegistered","holder","nodeOrDoc","nodeType","ownerDocument","defaultView","getAmpDoc","services","__AMP_SERVICES","s","obj","ctor","context","resolve","service","isCanary","canary","ampGeoPresets","US_CA_CODE","PRE_RENDER_REGEX","GEO_HOTPATCH_STR_REGEX","constructor","AmpGeo","mode_","GEO_HOT_PATCH","error_","country_","subdivision_","matchedGroups_","definedGroups_","BaseElement","AMP","$jscomp.objectCreate","V","W","defineProperties","X","getOwnPropertyDescriptor","defineProperty","D","U","prerenderAllowed","children","assertWithErrorReturn_","config","textContent","geo","addToBody_","geoDeferred","shouldBeTrueish","opt_message","assert","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","findCountry_","preRenderMatch","getBody","className","trimmedGeoMatch","COUNTRY","geoOverride","overrideGeoMatch","toLowerCase","GEO_OVERRIDE","isProxyOrigin","GEO_PRERENDER","GEO_API","error","TAG","Promise","undefined","B","C","validateApiUrl_","url","isSecure","fetchCountry_","info","timeoutPromise","fetchJson","mode","method","credentials","then","res","country","subdivision","catch","reason","matchCountryGroups_","ISOCountryGroups","call","keys","forEach","group","checkGroup_","push","countryGroup","expandedGroup","reduce","countries","concat","map","includes","clearPreRender_","body","classList","classesToRemove","stripRe","i","states","whenReady","waitForBodyOpen","ISOCountry","classesToAdd","GROUP_PREFIX","COUNTRY_PREFIX","mutateElement","toRemove","remove","toAdd","add","geoState","getElementById","GEO_ID","parentNode","removeChild","state","createElement","confScript","setAttribute","stringify","appendChild","matchedISOCountryGroups","allISOCountryGroups","isInCountryGroup","bind","targetGroup","targets","trim","split","filter","indexOf","NOT_DEFINED","IN","NOT_IN","promise","rej","reject","registerElement","registerServiceForDoc","SERVICE_TAG"],"sources":["[synthetic:util/objectcreate]","[synthetic:util/global]","[synthetic:util/shouldpolyfill]","[synthetic:es6/util/setprototypeof]","src/core/data-structures/promise.js","src/core/types/object/index.js","src/core/types/array.js","src/core/types/object/json.js","src/core/dom/index.js","src/core/types/string/url.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/service/index.js","src/core/window/index.js","src/experiments/index.js","extensions/amp-geo/0.1/amp-geo-presets.js","extensions/amp-geo/0.1/amp-geo.js","[synthetic:es6/util/inherits]","extensions/amp-geo/0.1/amp-geo-in-group.js"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2110121450047/"}
