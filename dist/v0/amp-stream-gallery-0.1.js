(self.AMP=self.AMP||[]).push({m:0,v:"2110121450047",n:"amp-stream-gallery",ev:"0.1",l:true,f:function(AMP,_){"use strict";var h;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}ca(this);"function"===typeof Symbol&&Symbol("x");var q;if("function"==typeof Object.setPrototypeOf)q=Object.setPrototypeOf;else{var r;a:{var da={a:!0},ea={};try{ea.__proto__=da;r=ea.a;break a}catch(a){}r=!1}q=r?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t,fa=q;function ha(a){return a?Array.prototype.slice.call(a):[]}var ia=Array.isArray;function u(a){return a||{}}function v(a,b){return 0<a&&0<b?a%b:(a%b+b)%b}var w,ja="Webkit webkit Moz moz ms O o".split(" ");function x(a,b,c){if(b.startsWith("--"))return b;w||(w=Object.create(null));var d=w[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<ja.length;g++){var f=ja[g]+e;if(void 0!==a[f]){e=f;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(w[b]=d)}return d}function ka(a,b){a=a.style;for(var c in b)a.setProperty(x(a,c),String(b[c]),"important")}function A(a,b,c){(b=x(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function B(a,b){var c=b.getBoundingClientRect();b=c.bottom;var d=c.height,e=c.left,g=c.right,f=c.top;c=c.width;return{start:0==a?e:f,end:0==a?g:b,length:0==a?c:d}}function C(a,b){a=B(a,b);return(a.start+a.end)/2}function D(a,b,c){return"start"==b?B(a,c).start:C(a,c)}function E(a,b,c){0==a?A(b,"width",c+"px"):A(b,"height",c+"px")}function F(a,b,c){a=B(a,b);b=a.end;return a.start<=c&&c<b}function la(a,b,c,d){var e=D(a,b,d),g=D(a,b,c),f=B(a,d).length;return(e-g)/f}function ma(a,b,c,d,e){var g=D(a,b,c);if(F(a,d[e],g))return e;for(b=1;b<=d.length/2;b++){var f=v(e+b,d.length),k=v(e-b,d.length);if(F(a,d[f],g))return f;if(F(a,d[k],g))return k}}function na(a,b,c){function d(){e=0;var k=c-(a.Date.now()-g);if(0<k)e=a.setTimeout(d,k);else{var l=f;f=null;b.apply(null,l)}}var e=0,g=0,f=null;return function(k){for(var l=[],m=0;m<arguments.length;++m)l[m-0]=arguments[m];g=a.Date.now();f=l;e||(e=a.setTimeout(d,c))}}var G;function oa(a,b,c,d){function e(m){try{return f(m)}catch(y){var n,z;null==(z=(n=self).__AMP_REPORT_ERROR)||z.call(n,y);throw y}}var g=a,f=c,k=pa(),l=!(null==d||!d.capture);g.addEventListener(b,e,k?d:l);return function(){var m;null==(m=g)||m.removeEventListener(b,e,k?d:l);e=g=f=null}}function pa(){if(void 0!==G)return G;G=!1;try{var a={get capture(){G=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return G}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var qa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function ra(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}var H=self.AMP_CONFIG||{},sa=("string"==typeof H.cdnProxyRegex?new RegExp(H.cdnProxyRegex):H.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ta(a){if(self.document&&self.document.head&&(!self.location||!sa.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}H.cdnUrl||ta("runtime-host");H.geoApiUrl||ta("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var I=self.__AMP_LOG;function J(){throw Error("failed to call initLogConstructor")}function ua(){I.user||(I.user=J());return I.user}function va(a){ua().assert(a,"The amp-stream-gallery experiment must be enabled to use the component",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function K(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function L(a,b,c,d){oa(a,b,c,d)}function wa(a){var b=a,c=oa(window,"touchend",(function(d){try{b(d)}finally{b=null,c()}}),{capture:!0,passive:!0})}function xa(a){var b=this,c=a.advanceable,d=a.element,e=a.scrollContainer;this.N=a.win;this.h=e;this.Xa=c;this.ia=0;this.D=!1;this.ja=1;this.ka=1e3;this.Va=this.xa=!1;this.ma=null;this.Ka=Number.POSITIVE_INFINITY;this.Ya=d.getAmpDoc();ya(this,this.ka);this.h.addEventListener("scroll",(function(){return b.oa()}),!0);L(this.h,"touchstart",(function(){return b.pa()}),{capture:!0,passive:!0});L(d,"amp-carousel:indexchange",(function(g){(g=g.detail.actionSource)&&4!==g&&b.stop()}))}h=xa.prototype;h.stop=function(){this.Va=!0};h.pause=function(){this.xa=!0};h.resume=function(){this.xa=!1;M(this)};h.updateAutoAdvance=function(a){this.D=a;M(this)};h.updateAutoAdvanceCount=function(a){this.ja=a;M(this)};h.updateAutoAdvanceInterval=function(a){this.ka=Math.max(a,1e3);ya(this,this.ka);M(this)};h.updateMaxAdvances=function(a){this.Ka=a};function ya(a,b){var c=na(a.N,(function(){c==a.ma&&za(a)&&(a.Xa.advance(a.ja,{actionSource:4,allowWrap:!0}),a.ia+=a.ja)}),b);a.ma=c}h.pa=function(){var a=this;this.pause();wa((function(){a.resume()}))};function za(a){return a.D&&a.Ya.isVisible()&&!a.xa&&!a.Va&&a.ia<a.Ka}h.oa=function(){M(this)};function M(a){za(a)&&a.ma()}function Aa(a){var b=this,c=a.element,d=a.runMutate,e=a.scrollContainer,g=a.stoppable;this.N=a.win;this.h=e;this.L=d;this.j=[];this.C=1;this.M=this.R=!1;this.Ha=0;c.addEventListener("focus",(function(){g.stop()}),!0);c.addEventListener("amp-carousel:indexchange",(function(f){b.ua(f)}))}h=Aa.prototype;h.updateMixedLength=function(a){this.R=a};h.updateUi=function(){var a=this;this.M||(this.M=!0,this.L((function(){a.M=!1;Ba(a);Ca(a)})))};h.updateSlides=function(a){this.j=a;this.updateUi()};h.updateVisibleCount=function(a){this.C=a;this.updateUi()};function Ba(a){a.R||2<=a.C?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach((function(b){b.setAttribute("role","listitem")}))):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach((function(b){b.removeAttribute("role")})))}function Ca(a){a.j.forEach((function(b,c){b.setAttribute("aria-hidden",!(a.R||2<=a.C)&&c!==a.Ha)}))}h.ua=function(a){var b=this;this.Ha=a.detail.index;this.L((function(){Ca(b)}))};var Da={bubbles:!0,cancelable:!0};function N(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function Ea(a){return"rtl"==(a.body.getAttribute("dir")||a.documentElement.getAttribute("dir")||"ltr")}function O(a,b,c){var d=a.hasAttribute(b),e=void 0!==c?c:!d;e!==d&&(e?a.setAttribute(b,""):a.removeAttribute(b))}function Fa(a,b){var c=(c=x(a.style,"scrollBehavior",void 0))?c.startsWith("--")?a.style.getPropertyValue(c):a.style[c]:void 0;A(a,"scrollBehavior","auto");b();A(a,"scrollBehavior",c)}function P(a){return a.reduce((function(b,c){return b+c}),0)}function Ga(a){var b=this,c=a.element,d=a.initialIndex,e=a.runMutate,g=a.scrollContainer;this.N=a=a.win;this.L=e;this.U=c;this.h=g;this.D=new xa({win:a,element:c,scrollContainer:g,advanceable:this});this.la=new Aa({win:a,element:c,scrollContainer:g,runMutate:e,stoppable:this.D});this.Ea=na(a,(function(){return Q(b)}),200);this.ha=1;this.Ca=Number.POSITIVE_INFINITY;this.R=!1;this.j=[];this.Wa=!0;this.M=!1;this.T=[];this.ea=[];this.S=[];this.Ba=[];this.P=this.ta=!1;this.$=0;this.F=null;this.fa=NaN;this.ya=this.ga=!1;this.J=void 0;this.G="start";this.H=0;this.Ga=this.K=!0;this.A=d||0;this.Ja=!1;this.Ua=!0;this.C=this.Ta=1;this.h.addEventListener("scroll",(function(){return b.oa()}),!0);this.h.addEventListener("scrollend",(function(){null===b.F&&Q(b)}),!0);L(this.h,"touchstart",(function(){return b.pa()}),{capture:!0,passive:!0});L(this.h,"wheel",(function(){b.J=2;b.F=null;b.P=!1}),{capture:!0,passive:!0})}h=Ga.prototype;h.next=function(a){this.advance(this.ha,{actionSource:a})};h.prev=function(a){this.advance(-this.ha,{actionSource:a})};h.advance=function(a,b){b=void 0===b?{}:b;var c=this.A,d=this.F,e=b;b=e.actionSource;var g=void 0===e.allowWrap?!1:e.allowWrap;c=null!==d?d:c;var f=c+a,k=this.j.length-1,l=0===c,m=c===k,n=0>f,z=f>k,y=0<a&&Ha(this,c)&&Ha(this,f);var db=this.isLooping()?v(f,k+1):g?y?0:n&&l||z&&!m?k:n&&!l||z&&m?0:f:y?c:Math.min(Math.max(f,0),k);this.goToSlide(db,{actionSource:b})};h.pauseLayout=function(){this.ta=!0;this.D.pause()};h.resumeLayout=function(){this.ta=!1;this.updateUi();this.D.resume()};h.getCurrentIndex=function(){return this.A};h.getVisibleCount=function(){return this.C};h.isLooping=function(){return this.Ja&&3<=this.j.length/this.C};h.goToSlide=function(a,b){b=void 0===b?{}:b;var c=b.actionSource,d=void 0===b.smoothScroll?!0:b.smoothScroll;0>a||a>this.j.length-1||isNaN(a)||a===this.A||this.ga||this.ya&&(3===this.J||2===this.J)||(this.P=!1,this.F=a,this.J=c,Ia(this,this.j[a],{smoothScroll:d}))};h.updateAdvanceCount=function(a){this.ha=a};h.updateAlignment=function(a){this.G="start"===a?"start":"center";this.updateUi()};h.updateAutoAdvance=function(a){this.D.updateAutoAdvance(a)};h.updateAutoAdvanceCount=function(a){this.D.updateAutoAdvanceCount(a)};h.updateAutoAdvanceInterval=function(a){this.D.updateAutoAdvanceInterval(a)};h.updateAutoAdvanceLoops=function(a){this.Ca=a;this.updateUi()};h.updateForwards=function(a){this.K=a;this.updateUi()};h.updateHideScrollbar=function(a){this.Ga=a;this.updateUi()};h.updateHorizontal=function(a){this.H=a?0:1;this.updateUi()};h.updateLoop=function(a){this.Ja=a;this.updateUi()};h.updateMixedLength=function(a){this.R=a;this.la.updateMixedLength(a);this.updateUi()};h.updateSlides=function(a){var b=a.length;if(b)this.j=a,this.A=this.isLooping()?v(this.A,b):Math.min(Math.max(this.A,0),b-1)||0,this.la.updateSlides(a),this.updateUi();else{var c=this.U.tagName.toUpperCase();(I.dev||(I.dev=J())).warn(c,"No slides were found.")}};h.updateSnap=function(a){this.Ua=a;this.updateUi()};h.updateSnapBy=function(a){this.Ta=Math.max(1,a);this.updateUi()};h.updateUserScrollable=function(a){this.Wa=a;this.updateUi()};h.updateUi=function(){var a=this;this.M||this.ta||(this.M=!0,this.L((function(){a.M=!1;a.h.setAttribute("mixed-length",a.R);a.h.setAttribute("user-scrollable",a.Wa);a.h.setAttribute("hide-scrollbar",a.Ga);a.h.setAttribute("horizontal",0===a.H);a.h.setAttribute("loop",a.isLooping());a.h.setAttribute("snap",a.Ua);ka(a.h,{"--visible-count":a.C});a.j.length&&(a.D.updateMaxAdvances(a.Ca*a.j.length-1),Ja(a),Ka(a),La(a),Q(a,!0))})))};h.updateVisibleCount=function(a){this.C=Math.max(1,a);this.la.updateVisibleCount(a);this.updateUi()};function Ma(a,b,c){a.A=b;a.$=c;a.U.dispatchEvent(K(a.N,"amp-carousel:offsetchange",u({index:b,total:a.j.length,offset:a.K?-c:c,slides:a.j}),{bubbles:!0}))}h.notifyScrollStart=function(){this.U.dispatchEvent(K(this.N,"amp-carousel:scrollstart",null))};h.pa=function(){var a=this;this.ga=!0;this.J=3;this.F=null;this.P=!1;wa((function(){a.ga=!1;a.Ea()}))};h.oa=function(){this.P?this.P=!1:(this.ya=!0,Na(this),this.notifyScrollStart(),this.Ea())};function R(a,b,c,d){var e=a.H,g=c*d*(a.K?1:-1);a=0==e?g:0;e=0==e?0:g;A(b,"transform","translate("+a+"px, "+e+"px)");ka(b,{"--content-transform":"translate("+a+"px, "+e+"px)"});b._revolutions=c}function Oa(a,b){a.j.forEach((function(c){R(a,c,0,b)}))}function Pa(a){return a.j.map((function(b){return B(a.H,b).length}))}h.isAtEnd=function(){if(this.isLooping())var a=!1;else{a=this.h;var b=a.getBoundingClientRect().width*(this.K?1:-1);b=a.scrollLeft+(this.K?Math.ceil(b):Math.floor(b));a=a.scrollWidth;a=this.K?b>=a:b<=-a}return a};h.isAtStart=function(){if(this.isLooping())var a=!1;else a=this.h.scrollLeft,a=this.K?0>=a:0<=a;return a};function Qa(a){for(var b=[],c=0;c<a;c++){var d=document.createElement("div");d.className="i-amphtml-carousel-spacer";b.push(d)}return b}function Ja(a){var b=a.H,c=a.j,d=Pa(a),e=P(d),g=a.isLooping()?c.length:0;a.T.forEach((function(f){a.h.removeChild(f)}));a.T=Qa(g);a.T.forEach((function(f,k){E(b,f,d[k]);a.h.insertBefore(f,c[0])}));a.ea.forEach((function(f){a.h.removeChild(f)}));a.ea=Qa(g);a.ea.forEach((function(f,k){E(b,f,d[k]);R(a,f,-1,e);a.h.appendChild(f)}));a.S.forEach((function(f){a.h.removeChild(f)}));a.S=Qa(g);a.S.forEach((function(f,k){E(b,f,d[k]);R(a,f,-1,e);a.h.appendChild(f)}));a.Ba=a.T.concat(a.ea,a.S)}function Ka(a){var b=a.j.length,c="start"===a.G,d=1===v(a.C,2),e=c||d?"0%":"50%";N(a.h.children,(function(g,f){f=v(f,b);var k=0===v(f,a.Ta);if(g.classList.contains("i-amphtml-carousel-spacer")||!a.isLooping()){f={"scroll-snap-align":k?a.G:"none","scroll-snap-coordinate":k?e:"none"};for(var l in f)A(g,l,f[l])}}))}function La(a){var b=a.S,c=a.T,d=a.A,e=a.j,g=Math.max(0,e.length-d-1),f=Math.max(0,d-1);c.forEach((function(k,l){var m=c.length;m=d===l?m:v(d-l,m);k.hidden=m>e.length-1||l<e.length-g}));b.forEach((function(k,l){var m=b.length;m=d===l?m:v(l-d,m);k.hidden=m>e.length-1||l>f}))}function Na(a){var b=a.G,c=a.Ba,d=a.H,e=a.A,g=a.h,f=a.j,k=P(Pa(a)),l=!!c.length,m=l?c:f,n=ma(d,b,g,m,l?e+f.length:e);void 0!==n&&(c=n%f.length,b=la(d,b,g,m[n]),Ma(a,c,b),c!==e&&a.L((function(){Ra(a,k)})))}function Q(a,b){var c=void 0===b?!1:b,d=a.J;if(!a.ga&&(a.J=void 0,a.ya=!1,a.L((function(){a.U.dispatchEvent(K(a.N,"amp-carousel:scrollpositionchange",null))})),a.fa!==a.A||null!==a.F||c)){null!==a.F&&(a.A=a.F,a.F=null,a.$=0);var e=P(Pa(a));a.L((function(){var g=a.A;a.fa!==g&&(a.fa=g,a.U.dispatchEvent(K(a.N,"amp-carousel:indexchange",u({index:g,total:a.j.length,actionSource:d,slides:a.j}),{bubbles:!0})));Ma(a,a.A,a.$);Oa(a,e);La(a);Ra(a,e);Sa(a)}))}}function Sa(a){var b=a.H,c=a.$,d=a.h,e=a.j[a.A],g=la(b,a.G,d,e)-c;c=B(b,e).length;var f=g*c;f&&(a.P=!0,Fa(d,(function(){var k=(0==b?d.scrollLeft:d.scrollTop)+f;0==b?d.scrollLeft=k:d.scrollTop=k})))}function Ia(a,b,c){(c.smoothScroll?function(d,e){return e()}:Fa)(a.h,(function(){var d=a.H,e=a.h,g="start"==a.G,f=B(d,b).length,k=g?B(d,b).start:C(d,b);g=g?B(d,e).start:C(d,e);f=(0==d?e.scrollLeft:e.scrollTop)+(k-g-0*f);0==d?e.scrollLeft=f:e.scrollTop=f}))}function Ta(a,b,c,d){for(var e=a.A,g=a.fa,f=a.j,k=f[e]._revolutions||0,l=d?1:-1,m=1;m<=c;m++){var n=v(e+m*l,f.length);if(n===g&&e!==g)break;R(a,f[n],n>e!==d?k+l:k,b)}}function Ra(a,b){if(a.isLooping()){var c=a.j,d=a.C,e="start"===a.G?d-1:0,g=(c.length-1+e)/2;Ta(a,b,Math.round((c.length-1-e)/2),!1);Ta(a,b,Math.round(g),!0)}}function Ha(a,b){var c=a.C;return b>=a.j.length-("start"===a.G?c:c/2)}function Ua(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return Va(a,b)}function Wa(a){var b=Xa(a);b=Ya(b);return Va(b,"owners")}function Za(a){a=Xa(a);a=Ya(a);return $a(a,"action")?Va(a,"action"):null}function Xa(a){return a.nodeType?Ua((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Ya(a){a=Xa(a);return a.isSingleDoc()?a.win:a}function Va(a,b){$a(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function $a(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function ab(a){var b=a.ampElement,c=a.intersectionElement,d=void 0===a.intersectionThreshold?.01:a.intersectionThreshold,e=void 0===a.nearbyMarginInPercent?100:a.nearbyMarginInPercent,g=void 0===a.viewportIntersectionThreshold?d:a.viewportIntersectionThreshold,f=void 0===a.viewportIntersectionCallback?function(){}:a.viewportIntersectionCallback;this.O=b;this.wa=Wa(b.element);this.ra=c;this.Ia=d;this.Qa=e;this.Za=g;this.za=f;this.da=!1;this.B=[];this.aa=this.Y=this.ba=null;this.V=!1}h=ab.prototype;h.setQueueChanges=function(a){this.da=a};function S(a,b,c){c?a.wa.scheduleLayout(a.O.element,b):a.wa.scheduleUnlayout(a.O.element,b)}function bb(a){if(!(a.ba&&a.Y&&a.aa)){var b=a.O.win;a.ba=new b.IntersectionObserver((function(c){return cb(a,c)}),{root:a.ra,rootMargin:a.Qa+"%",threshold:a.Ia});a.Y=new b.IntersectionObserver((function(c){return eb(a,c)}),{root:a.ra,rootMargin:a.Qa+10+"%",threshold:a.Ia});a.aa=new b.IntersectionObserver((function(c){return fb(a,c)}),{root:a.ra,rootMargin:"0%",threshold:a.Za})}}function cb(a,b){b.filter((function(c){return c.isIntersecting})).forEach((function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0}));a.da||gb(a)}function eb(a,b){b.filter((function(c){return!c.isIntersecting})).forEach((function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1}));a.da||hb(a)}function fb(a,b){b.forEach((function(c){c.target.__AMP_CAROUSEL_IN_VIEWPORT=c.isIntersecting?0:1}));a.da||ib(a)}h.flushChanges=function(){gb(this);hb(this);ib(this)};function gb(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(S(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function hb(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(S(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function ib(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?(S(a,c,!0),a.za(c,!0)):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&a.za(c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}function T(a,b){if("IntersectionObserver"in a.O.win)if(bb(a),b)for(var c=0;c<a.B.length;c++)a.ba.observe(a.B[c]),a.Y.observe(a.B[c]),a.aa.observe(a.B[c]);else a.ba.disconnect(),a.Y.disconnect(),a.aa.disconnect()}h.updateChildren=function(a){this.B=a;if("IntersectionObserver"in this.O.win){for(a=0;a<this.B.length;a++)this.wa.setOwner(this.B[a],this.O.element);T(this,!1);T(this,this.V)}};h.wasLaidOut=function(){this.V=!0;T(this,this.V)};h.wasUnlaidOut=function(){this.V=!1;T(this,this.V);for(var a=0;a<this.B.length;a++)S(this,this.B[a],!1),this.za(this.B[a],!1)};function jb(a){return a.split(",").map((function(b){var c=/[a-z0-9.]+$/.exec(b);if(c){c=c.index;var d=b.slice(c),e=b.slice(0,c).trim();return{mediaQueryList:window.matchMedia(e),value:d}}})).filter(Boolean)}function kb(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.value;if(c.mediaQueryList.matches)return d}return""}function lb(a){this.Da=a;this.Fa={};this.Na={}}lb.prototype.updateAttribute=function(a,b){var c=this;if(this.Da[a]){var d=this.Na[a];d&&mb(d,null);var e=jb(b),g=function(){var f=kb(e);if(c.Fa[a]!==f){var k=c.Da[a];k&&k(f);c.Fa[a]=f}};mb(e,g);g();this.Na[a]=e}};function mb(a,b){a.forEach((function(c){c.mediaQueryList.onchange=b}))}var U;function nb(a){a=a.ownerDocument||a;U&&U.ownerDocument===a||(U=a.createElement("div"));return ob}function ob(a){var b=U;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function pb(a){if(a.__AMP__EXPERIMENT_TOGGLES)var b=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);b=a.__AMP__EXPERIMENT_TOGGLES;var c,d,e,g=Object.assign({},null!=(d=a.AMP_CONFIG)?d:{},null!=(e=a.AMP_EXP)?e:JSON.parse((null==(c=a.__AMP_EXP)?void 0:c.textContent)||"{}"));for(k in g)c=g[k],"number"===typeof c&&0<=c&&1>=c&&(b[k]=Math.random()<c);var f;g=null==(f=a.AMP_CONFIG)?void 0:f["allow-doc-opt-in"];if(ia(g)&&g.length&&(f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){f=f.getAttribute("content").split(",");var k=p(f);for(f=k.next();!f.done;f=k.next())f=f.value,g.includes(f)&&(b[f]=!0)}f=Object;g=f.assign;k="";try{"localStorage"in a&&(k=a.localStorage.getItem("amp-experiment-toggles"))}catch(n){(I.dev||(I.dev=J())).warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var l;k=(null==(l=k)?void 0:l.split(/\s*,\s*/g))||[];l=Object.create(null);k=p(k);for(c=k.next();!c.done;c=k.next())(c=c.value)&&("-"==c[0]?l[c.substr(1)]=!1:l[c]=!0);g.call(f,b,l);var m;l=null==(m=a.AMP_CONFIG)?void 0:m["allow-url-opt-in"];if(ia(l)&&l.length){m=a.location.originalHash||a.location.hash;a=Object.create(null);if(m)for(;g=qa.exec(m);)f=ra(g[1],g[1]),g=g[2]?ra(g[2].replace(/\+/g," "),g[2]):"",a[f]=g;m=p(l);for(f=m.next();!f.done;f=m.next())l=f.value,f=a["e-"+l],"1"==f&&(b[l]=!0),"0"==f&&(b[l]=!1)}}return!!b["amp-stream-gallery"]}var qb=["<div class=i-amphtml-carousel-content><div class=i-amphtml-stream-gallery-slides><div class=i-amphtml-carousel-scroll></div></div><div class=i-amphtml-stream-gallery-arrow-prev-slot></div><div class=i-amphtml-stream-gallery-arrow-next-slot></div></div>"],rb=["<button class=i-amphtml-stream-gallery-next aria-hidden=true></button>"],sb=["<button class=i-amphtml-stream-gallery-prev aria-hidden=true></button>"],tb=u({never:0,auto:1,always:2});function V(a){a=AMP.BaseElement.call(this,a)||this;a.Ra=new lb(ub(a));a.sa=Ua(a.win,"platform").isIos();a.Aa=null;a.o=null;a.Z=null;a.W=null;a.X=null;a.h=null;a.Sa=null;a.qa=1;a.La=Number.MAX_VALUE;a.Ma=Number.MAX_VALUE;a.Oa=1;a.Pa=1;a.va=!1;a.ca=0;a.j=[];a.A=null;a.na=!1;a.I=null;return a}var W=AMP.BaseElement;V.prototype=ba(W.prototype);V.prototype.constructor=V;if(fa)fa(V,W);else for(var X in W)if("prototype"!=X)if(Object.defineProperties){var vb=Object.getOwnPropertyDescriptor(W,X);vb&&Object.defineProperty(V,X,vb)}else V[X]=W[X];V.$a=W.prototype;V.prerenderAllowed=function(){return!0};function ub(a){return{"extra-space":function(b){a.Z.setAttribute("i-amphtml-stream-gallery-extra-space",b)},"inset-arrow-visibility":function(b){a.qa=tb[b]||1;Y(a)},loop:function(b){(b="true"==b)&&Ua(a.win,"platform").isIos()?ua().warn("amp-stream-gallery","amp-stream-gallery does not support looping on iOS due to https://bugs.webkit.org/show_bug.cgi?id=191218."):a.o.updateLoop(b)},"outset-arrows":function(b){a.va="true"==b;Y(a)},peek:function(b){a.ca=Math.max(0,Number(b)||0);Z(a)},slide:function(b){a.o.goToSlide(Number(b))},"slide-align":function(b){a.o.updateAlignment(b)},snap:function(b){a.o.updateSnap("false"!=b)},"max-item-width":function(b){a.La=Number(b)||Number.MAX_VALUE;Z(a)},"max-visible-count":function(b){a.Ma=Number(b)||Number.MAX_VALUE;Z(a)},"min-item-width":function(b){a.Oa=Number(b)||1;Z(a)},"min-visible-count":function(b){a.Pa=Number(b)||1;Z(a)}}}function wb(a){a.registerAction("prev",(function(b){a.o.prev(3==b.trust?0:1)}),1);a.registerAction("next",(function(b){a.o.next(3==b.trust?0:1)}),1);a.registerAction("goToSlide",(function(b){a.o.goToSlide(b.args.index||-1,{actionSource:3==b.trust?0:1})}),1)}function xb(a){a.element.addEventListener("amp-carousel:indexchange",(function(b){a.ua(b)}));a.element.addEventListener("amp-carousel:scrollstart",(function(){a.I.setQueueChanges(a.sa)}));a.element.addEventListener("amp-carousel:scrollpositionchange",(function(){a.I.flushChanges();a.I.setQueueChanges(!1);Y(a)}));a.X.addEventListener("click",(function(b){b.target!=b.currentTarget&&a.o.prev(0)}));a.W.addEventListener("click",(function(b){b.target!=b.currentTarget&&a.o.next(0)}))}h=V.prototype;h.goToSlide=function(a){this.o.goToSlide(a,{smoothScroll:!1})};h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};h.buildCallback=function(){var a=this;va(pb(this.win));this.Aa=Za(this.element);yb(this);this.o=new Ga({win:this.win,element:this.element,scrollContainer:this.h,initialIndex:zb(this),runMutate:function(b){return a.mutateElement(b)}});this.o.updateSnap(!1);this.o.updateForwards(!Ea(this.element.ownerDocument));ha(this.element.attributes).forEach((function(b){a.Ra.updateAttribute(b.name,b.value)}));this.o.updateSlides(this.j);Ab(this);wb(this);xb(this);Y(this)};function yb(a){var c,d,b=a.element;ha(b.children).forEach((function(e){var g=e.getAttribute("slot");"prev-arrow"==g?c=e:"next-arrow"==g?d=e:"I-AMPHTML-SIZER"==e.tagName||a.j.push(e)}));b.appendChild(nb(a.element)(qb));a.h=b.querySelector(".i-amphtml-carousel-scroll");a.Sa=b.querySelector(".i-amphtml-stream-gallery-slides");a.Z=b.querySelector(".i-amphtml-carousel-content");a.X=b.querySelector(".i-amphtml-stream-gallery-arrow-prev-slot");a.W=b.querySelector(".i-amphtml-stream-gallery-arrow-next-slot");a.j.forEach((function(e){e.classList.add("i-amphtml-carousel-slotted");a.h.appendChild(e)}));a.X.appendChild(c||nb(a.element)(sb));a.W.appendChild(d||nb(a.element)(rb))}h.isRelayoutNeeded=function(){return!0};h.pauseCallback=function(){this.o.pauseLayout()};h.resumeCallback=function(){this.o.resumeLayout()};h.layoutCallback=function(){Z(this);this.o.updateUi();this.I.wasLaidOut();t||(t=Promise.resolve(void 0));var a=t;return a};h.unlayoutCallback=function(){this.I.wasUnlaidOut();return!0};h.mutatedAttributesCallback=function(a){for(var b in a)this.Ra.updateAttribute(b,String(a[b]))};function zb(a){a=a.element.getAttribute("slide")||"0";return Number(kb(jb(a)))}function Bb(a){return a.va?a.X.getBoundingClientRect().width+a.W.getBoundingClientRect().width:0}function Z(a){var b=a.La,c=a.Ma,d=a.Oa,e=a.Pa,g=a.j,f=a.element.getBoundingClientRect().width-Bb(a),k=Math.max(1,Math.floor((f-a.ca*d)/d))+a.ca,l=Math.min(g.length,c);c=Math.min(Math.max(e,k),l);d=Math.floor(c);a.mutateElement((function(){A(a.Sa,"max-width",k>l?l*b+"px":k*b+"px")}));a.o.updateSlides(a.j);a.o.updateAdvanceCount(d);a.o.updateSnapBy(d);a.o.updateVisibleCount(c)}function Y(a){N(a.X.children,(function(b){O(b,"disabled",a.o.isAtStart())}));N(a.W.children,(function(b){O(b,"disabled",a.o.isAtEnd())}));O(a.Z,"i-amphtml-stream-gallery-hide-inset-buttons",2==a.qa?!1:0==a.qa?!0:a.na||0!=a.ca);O(a.Z,"amp-stream-gallery-outset-arrows",a.va)}function Ab(a){var b=Wa(a.element);a.I=new ab({ampElement:a,intersectionElement:a.h,nearbyMarginInPercent:a.sa?200:100,viewportIntersectionCallback:function(c,d){d?b.scheduleResume(a.element,c):b.schedulePause(a.element,c)}});a.I.setQueueChanges(a.sa);a.I.updateChildren(a.j)}h.ua=function(a){var b=a.detail;a=b.index;b=b.actionSource;this.na=this.na||3==b;var c=this.A;this.A=a;null!=c&&(a=u({index:a}),b=2==b||3==b||0==b?3:1,c=K(this.win,"streamGallery.slideChange",a),this.Aa.trigger(this.element,"slideChange",c,b),b=this.element,a=a||{},c=b.ownerDocument.createEvent("Event"),c.data=a,c.initEvent("slideChange",Da.bubbles,Da.cancelable),b.dispatchEvent(c));Y(this)};AMP.registerElement("amp-stream-gallery",V,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{visibility:hidden;z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot{width:0;-ms-flex-pack:start;justify-content:flex-start}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot{width:0;-ms-flex-pack:end;justify-content:flex-end}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>[disabled],:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>[disabled],[i-amphtml-stream-gallery-hide-inset-buttons]:not([amp-stream-gallery-outset-arrows]) .i-amphtml-stream-gallery-arrow-next-slot>*,[i-amphtml-stream-gallery-hide-inset-buttons]:not([amp-stream-gallery-outset-arrows]) .i-amphtml-stream-gallery-arrow-prev-slot>*{opacity:0;pointer-events:none!important}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next,:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{border-radius:0px 4px 4px 0px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14 7.4 9.4 12l4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next{border-radius:4px 0px 0px 4px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m10 7.4 4.6 4.6-4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>[disabled],[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>[disabled]{opacity:0.4}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next,[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{width:32px;height:32px;border-radius:50%;background-size:24px 24px}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{margin-inline-start:6px;margin-inline-end:12px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14 7.4 9.4 12l4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next{margin-inline-start:12px;margin-inline-end:6px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m10 7.4 4.6 4.6-4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}.i-amphtml-stream-gallery-inset-arrows{position:absolute;top:0;bottom:0;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;pointer-events:none}.i-amphtml-stream-gallery-arrow-prev-slot{-ms-flex-order:0;order:0}.i-amphtml-stream-gallery-arrow-next-slot{-ms-flex-order:2;order:2}.i-amphtml-stream-gallery-arrow-next-slot,.i-amphtml-stream-gallery-arrow-prev-slot{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:all}.i-amphtml-stream-gallery-arrow-next-slot>*,.i-amphtml-stream-gallery-arrow-prev-slot>*{-ms-flex-negative:0;flex-shrink:0}.i-amphtml-stream-gallery-next,.i-amphtml-stream-gallery-prev{position:relative;z-index:1;padding:0;border:none;outline:none;box-shadow:0px 2px 6px 0px rgba(0,0,0,.4);background-color:rgba(255,255,255,0.6);background-size:24px 24px;background-position:50%;background-repeat:no-repeat;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);transition:opacity 200ms ease-in}.i-amphtml-stream-gallery-next[disabled],.i-amphtml-stream-gallery-prev[disabled]{transition-timing-function:ease-out}[dir=rtl] .i-amphtml-stream-gallery-next,[dir=rtl] .i-amphtml-stream-gallery-prev{transform:scaleX(-1)}amp-stream-gallery .i-amphtml-carousel-content{display:-ms-flexbox;display:flex}.i-amphtml-stream-gallery-slides{-ms-flex-order:1;order:1;-ms-flex-positive:1;flex-grow:1;min-width:1px}[i-amphtml-stream-gallery-extra-space=around]{-ms-flex-pack:center;justify-content:center}amp-stream-gallery .i-amphtml-carousel-slotted>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-stream-gallery/0.1/amp-stream-gallery.css*/")}});//# sourceMappingURL=amp-stream-gallery-0.1.js.map