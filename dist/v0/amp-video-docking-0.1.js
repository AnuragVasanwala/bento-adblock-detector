(self.AMP=self.AMP||[]).push({m:0,v:"2110121450047",n:"amp-video-docking",ev:"0.1",l:true,f:function(AMP,_){"use strict";var l;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var n;function ba(a){return new Promise((function(b){b(a())}))}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var ca=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function da(a,b,d,c,e){return e?e:b?"ï¿½":c?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a}var q;function ea(a){return"amp-img[placeholder],img[placeholder],[placeholder] amp-img".replace(/^|,/g,"$&"+a+" ")}function fa(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function ha(a){return a.closest?a.closest(".amp-video-docked-controls"):fa(a,(function(b){var d=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return d?d.call(b,".amp-video-docked-controls"):!1}))}function ia(a,b){for(var d=a.length,c=0;c<d;c++)b(a[c],c)}function ja(a){a.classList.add("i-amphtml-fill-content")}function r(a,b,d,c){return{left:a,top:b,width:d,height:c,bottom:b+c,right:a+d,x:a,y:b}}function la(a){for(var b=-1/0,d=1/0,c=-1/0,e=1/0,f=0;f<arguments.length;f++){var g=arguments[f];if(g&&(b=Math.max(b,g.left),d=Math.min(d,g.left+g.width),c=Math.max(c,g.top),e=Math.min(e,g.top+g.height),d<b||e<c))return null}return 1/0==d?null:r(b,c,d-b,e-c)}var t;function ma(a){var b=a.ownerDocument||a;t&&t.ownerDocument===b||(t=b.createElement("div"));return na}function na(a){var b=t;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function oa(a){a=a.querySelectorAll("[ref]");for(var b=Object.create(null),d=0;d<a.length;d++){var c=a[d],e=c.getAttribute("ref");c.removeAttribute("ref");b[e]=c}return b}function pa(a){var b=null,d="";var c=arguments;var e="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];c=e?e.call(c):{next:aa(c)};for(e=c.next();!e.done;e=c.next())if(e=e.value,e instanceof Error&&!b){var f=b=void 0;if(null==(f=Object.getOwnPropertyDescriptor(e,"message"))?0:f.writable)b=e;else{f=e.stack;var g=Error(e.message);for(b in e)g[b]=e[b];g.stack=f;b=g}}else d&&(d+=" "),d+=e;b?d&&(b.message=d+": "+b.message):b=Error(d);return b}function qa(a){var b=pa.apply(null,arguments);b.expected=!0;return b}function ra(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];d=qa.apply(null,d);var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,d)}var u,sa="Webkit webkit Moz moz ms O o".split(" ");function ta(a,b,d){if(b.startsWith("--"))return b;u||(u=Object.create(null));var c=u[b];if(!c||d){c=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<sa.length;f++){var g=sa[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var h=e;void 0!==a[h]&&(c=h)}d||(u[b]=c)}return c}function x(a,b){a=a.style;for(var d in b)a.setProperty(ta(a,d),String(b[d]),"important")}function ua(a,b,d){(b=ta(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,d):a.style[b]=d)}function y(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}function z(a){return"number"==typeof a?a+"px":a}function va(a,b){return void 0===b||null===b?"translate("+z(a)+")":"translate("+z(a)+", "+z(b)+")"}function wa(a,b){for(var d=0;d<b.length;d++)ua(a,b[d],null)}function B(a){a=a.querySelector("video, iframe");return a}function xa(a){ba((function(){return a.play(!1)})).catch((function(b){ra("TRYPLAY",b)}))}function C(a){var b=!1,d=null,c=a;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];b||(d=c.apply(self,f),b=!0,c=null);return d}}var D=self.AMP_CONFIG||{},ya=("string"==typeof D.cdnProxyRegex?new RegExp(D.cdnProxyRegex):D.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function za(a){if(self.document&&self.document.head&&(!self.location||!ya.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}D.cdnUrl||za("runtime-host");D.geoApiUrl||za("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var Aa=self.__AMP_LOG;function Ba(){if(!Aa.user)throw Error("failed to call initLogConstructor");return Aa.user}function Ca(a,b){Ba().assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function E(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return F(a,b)}function J(a,b){var d=K(a);d=Da(d);return F(d,b)}function K(a){return a.nodeType?E((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Da(a){a=K(a);return a.isSingleDoc()?a.win:a}function F(a,b){Ea(a,b);var d=a.__AMP_SERVICES;d||(d=a.__AMP_SERVICES={});a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ea(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}var L;function M(a,b,d){function c(h){try{return f(h)}catch(p){var k,m;null==(m=(k=self).__AMP_REPORT_ERROR)||m.call(k,p);throw p}}var e=a,f=d,g=Fa();e.addEventListener(b,c,g?void 0:!1);return function(){var h;null==(h=e)||h.removeEventListener(b,c,g?void 0:!1);c=e=f=null}}function Fa(){if(void 0!==L)return L;L=!1;try{var a={get capture(){L=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return L}function Ga(a,b,d){var c={detail:d};Object.assign(c,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,c);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!c.bubbles,!!c.cancelable,d);return a}function N(a,b,d){return M(a,b,d)}function Ha(a,b,d){var c=d,e=M(a,b,(function(f){try{c(f)}finally{c=null,e()}}));return e}function Ia(a,b,d){d=d.sort((function(e,f){return f.minWidth-e.minWidth}));var c=-1;d.forEach((function(e){var f=e.className,g=e.minWidth;g<=b&&g>c?(a.classList.add(f),c=g):a.classList.remove(f)}))}function Ja(a){var b=a.touches?a.touches[0]:a;return{x:"x"in b?b.x:b.clientX,y:"y"in b?b.y:b.clientY}}function O(a,b){this.ga=F(a,"timer");this.na=b;this.F=null}O.prototype.trigger=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];var e=this;this.cancel();this.F=this.ga.delay((function(){return e.na.apply(null,d)}),a)};O.prototype.cancel=function(){null!==this.F&&(this.ga.cancel(this.F),this.F=null)};O.prototype.isWaiting=function(){return null!==this.F};var Ka=["<div class=i-amphtml-video-docked-overlay hidden></div>"],La=['<div class=amp-video-docked-controls hidden><div class="amp-video-docked-main-button-group amp-video-docked-control-set-playback"><div class=amp-video-docked-button-group><div role=button ref=playButton class=amp-video-docked-play></div><div role=button ref=pauseButton class=amp-video-docked-pause></div></div><div class=amp-video-docked-button-group><div role=button ref=muteButton class=amp-video-docked-mute></div><div role=button ref=unmuteButton class=amp-video-docked-unmute></div></div><div class=amp-video-docked-button-group><div role=button ref=fullscreenButton class=amp-video-docked-fullscreen></div></div></div><div class="amp-video-docked-main-button-group amp-video-docked-control-set-scroll-back" hidden><div class=amp-video-docked-button-group><div role=button ref=scrollBackButton class=amp-video-docked-scroll-back></div></div></div><div class=amp-video-docked-button-dismiss-group ref=dismissContainer><div role=button ref=dismissButton class=amp-video-docked-dismiss></div></div></div>'],Va=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:300}];function Wa(a){function b(e){return c[e]}var d=this;this.j=a;a=ma(a.getBody());this.container=a(La);this.overlay=a(Ka);var c=oa(this.container);this.ia=b("dismissButton");this.P=b("playButton");this.O=b("pauseButton");this.N=b("muteButton");this.S=b("unmuteButton");this.la=b("fullscreenButton");this.qa=b("scrollBackButton");this.ja=b("dismissContainer");this.ha=this.container.querySelectorAll(".amp-video-docked-main-button-group");this.$=this.Y=!1;this.ma=C((function(){return new O(d.j.win,(function(){d.hide(!0)}))}));this.ca=[];this.da=this.U=this.M=this.G=null;Xa(this);Ya(this)}l=Wa.prototype;l.disable=function(){this.Y=!0};l.enable=function(){this.Y=!1};l.setVideo=function(a,b){this.U=b;this.da!==a&&(this.da=a,Za(this,a))};function $a(a,b){var d="amp-video-docked-control-set-"+b;ia(a.ha,(function(c){y(c,c.classList.contains(d))}))}function Za(a,b){ab(a);var d=b.element;a.ca.push(P(a,a.ia,"click",(function(){a.container.dispatchEvent(Ga(a.j.win,"dock-dismiss-on-tap",void 0))})),P(a,a.P,"click",(function(){xa(b)})),P(a,a.O,"click",(function(){b.pause()})),P(a,a.N,"click",(function(){b.mute()})),P(a,a.S,"click",(function(){b.unmute()})),P(a,a.la,"click",(function(){b.fullscreenEnter()})),P(a,a.qa,"click",(function(){a.container.dispatchEvent(Ga(a.j.win,"dock-scroll-back",void 0))})),N(a.container,"mouseup",(function(){return a.hideOnTimeout(800)})),N(d,"playing",(function(){var c=a.O,e=a.P;a.$=!1;y(e,!1);y(c,!0)})),N(d,"pause",(function(){var c=a.O,e=a.P;a.$=!0;y(c,!1);y(e,!0)})),N(d,"muted",(function(){var c=a.S;y(a.N,!1);y(c,!0)})),N(d,"unmuted",(function(){var c=a.N;y(a.S,!1);y(c,!0)})),N(d,"ad_start",(function(){return $a(a,"scroll-back")})),N(d,"ad_end",(function(){return $a(a,"playback")})))}function P(a,b,d,c){return N(b,d,(function(){a.Y||c()}))}function ab(a){for(;0<a.ca.length;)a.ca.pop().call()}l.hideOnTimeout=function(a){var b=void 0===a?1200:a;this.ma().trigger(b)};function Ya(a){function b(){return bb(a)}var d=a.overlay;P(a,d,"click",b);P(a,d,"mouseover",b)}function bb(a){a.j.win.requestAnimationFrame((function(){var b=J(a.j,"video-manager"),d=a.da,c=b.isRollingAd(d),e=b.isMuted(d);b="paused"!==b.getPlayingState(d);d=a.container;var f=a.overlay;y(d,!0);d.classList.add("amp-video-docked-controls-shown");f.classList.add("amp-video-docked-controls-bg");$a(a,c?"scroll-back":"playback");y(a.P,!b);y(a.O,b);y(a.N,!e);y(a.S,e);cb(a);a.hideOnTimeout()}))}l.positionOnVsync=function(a,b,d,c,e){this.U=r(b,d,c*a,e*a);var f=this.container,g=a/2,h=b+c*g,k=d+e*g;Ia(f,a*c,Va);x(f,{transform:va(h,k)});x(this.ja,{transform:va(c*g-4-40,-(e*g-4-40))})};function Xa(a){N(a.j.getRootNode(),"mousedown",(function(b){b=b.target;b==a.overlay||ha(b)||a.hide(!0)}))}l.hide=function(a,b){var d=this.container,c=this.overlay;!d.classList.contains("amp-video-docked-controls-shown")||a&&this.$||(b&&(y(d,!1),y(c,!1)),c.classList.remove("amp-video-docked-controls-bg"),d.classList.remove("amp-video-docked-controls-shown"))};function cb(a){a.G||(a.G=N(a.overlay,"mousemove",(function(){bb(a)})),a.M=N(a.overlay,"mouseout",(function(b){var d=Ja(b);b=d.x;d=d.y;var c=a.U,e=c.bottom,f=c.right,g=c.top;if(b<c.left||b>f||d<g||d>e)a.hide(!0),a.G&&(a.G(),a.G=null),a.M&&(a.M(),a.M=null)})))}l.reset=function(){var a=this.overlay,b=[a,this.container];y(a,!1);this.hide();for(a=0;a<b.length;a++)wa(b[a],["transform","transition","width","height"])};function db(a,b,d){0>a?a=0:1<a&&(a=1);return(a-0)*(d-b)+b}function eb(a,b,d,c){return c*(a-b-2*d)}function fb(a,b,d,c){return-c*(a-b-2*d)}function gb(a){return 0<a.width&&0<a.height}function hb(a){var b={get:function(){return a.getSize().width},configurable:!1,enumerable:!0},d={get:function(){return a.getSize().height},configurable:!1,enumerable:!0};return Object.defineProperties(r(0,0,0,0),{width:b,height:d,right:b,bottom:d})}function ib(a){var b=a.getHeadNode();var d=(a=b.__AMP_CSS_TR)?a(".amp-video-docked-controls{direction:ltr!important;opacity:0;pointer-events:none!important;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-control-set-scroll-back,.amp-small>.amp-video-docked-control-set-scroll-back{margin-left:-32px}.amp-large>.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group{margin-right:0}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2);transition-property:transform,opacity!important}.amp-video-docked-controls-bg{background:hsla(0,0%,90%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-scroll-back{background-size:50%}.amp-rtl .amp-video-docked-scroll-back,.amp-video-docked-scroll-back{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\")}.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group,.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group>div[role=button]{min-width:64px;height:64px}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{transition-property:transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity;transition:transform 0.05s}.i-amphtml-video-docked-overlay{opacity:0;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78%,0.5);transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39%,0.8);transition-property:opacity,transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;filter:blur(20px);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/"):".amp-video-docked-controls{direction:ltr!important;opacity:0;pointer-events:none!important;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-control-set-scroll-back,.amp-small>.amp-video-docked-control-set-scroll-back{margin-left:-32px}.amp-large>.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group{margin-right:0}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2);transition-property:transform,opacity!important}.amp-video-docked-controls-bg{background:hsla(0,0%,90%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-scroll-back{background-size:50%}.amp-rtl .amp-video-docked-scroll-back,.amp-video-docked-scroll-back{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\")}.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group,.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group>div[role=button]{min-width:64px;height:64px}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{transition-property:transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity;transition:transform 0.05s}.i-amphtml-video-docked-overlay{opacity:0;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78%,0.5);transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39%,0.8);transition-property:opacity,transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;filter:blur(20px);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/";(a=b.__AMP_CSS_SM)||(a=b.__AMP_CSS_SM=Object.create(null));var c=jb(b,a,"amp-extension=amp-video-docking");c?c.textContent!==d&&(c.textContent=d):(c=(b.ownerDocument||b).createElement("style"),c.textContent=d,c.setAttribute("amp-extension","amp-video-docking"),d=jb(b,a,"amp-runtime"),(d=void 0===d?null:d)?b.insertBefore(c,d.nextSibling):b.insertBefore(c,b.firstChild),a["amp-extension=amp-video-docking"]=c)}function jb(a,b,d){return b[d]?b[d]:(a=a.querySelector("style["+d+"]"))?b[d]=a:null}var kb=["<div class=amp-video-docked-shadow hidden></div>"],lb=["<div class=amp-video-docked-placeholder-background><div class=amp-video-docked-placeholder-background-poster ref=poster></div><div class=amp-video-docked-placeholder-icon ref=icon></div></div>"],mb=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:420}];function nb(a,b){var d=!1;return function(c){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];d||(d=!0,a.requestAnimationFrame((function(){b.apply(null,e);d=!1})))}}function ob(a){var b=this;this.j=a;this.pa=C((function(){return J(a,"video-manager")}));this.B=J(a,"viewport");this.A=hb(this.B);this.D=this.h=null;var d=ma(U(this));this.W=C((function(){return V(b,d(kb))}));this.o=C((function(){return pb(b)}));this.V=C((function(){return V(b,d(lb))}));this.K=C((function(){return oa(b.V())}));this.ba=this.H=this.C=this.ea=null;this.aa=this.B.getScrollTop();this.Z=!1;this.J=this.R=this.I=0;this.fa=[];this.oa=C((function(){var c=b.j;b.B.onScroll(nb(c.win,(function(){var e=b.B.getScrollTop();5>Math.abs(e-b.aa)||(b.ba=e>b.aa?"top":"bottom",b.aa=e)})));b.B.onResize((function(){return qb(b)}));ib(c)}));this.ka=C((function(){var c=b.j.getRootNode();var e=c.querySelector("[dock]");e;Ca(e.signals().get("registered"),"`dock` attribute can only be set on video components.");e=e.getAttribute("dock").trim();""==e?c=null:(c=c.querySelector(e))&&Ca("amp-layout"==c.tagName.toLowerCase(),"Dock slot must be an <amp-layout> element.");return c}));this.X=null;this.L=!1;rb(this)}function rb(a){if(sb(a)){for(var b=a.j,d="["+"dock".replace(ca,da)+"]",c=b.getRootNode().querySelectorAll(d),e=0;e<c.length;e++){var f=c[e];f.signals&&f.signals().get("registered")&&a.registerElement(f)}N(b.getBody(),"registered",(function(g){g=g.target;g.hasAttribute("dock")&&a.registerElement(g)}))}}function sb(a){return E(a.j.win,"platform").isIos()&&J(a.j,"viewer").isEmbedded()?!1:!0}function qb(a){var b;a.A.width!==(null==(b=a.h)?void 0:b.viewportRect.width)&&a.fa.forEach((function(d){return tb(a,d)}))}ob.prototype.register=function(a){var b=this;this.oa();this.X||(this.X=new IntersectionObserver((function(d){for(var c=[],e={},f=d.length-1;0<=f;e={T:e.T},f--){var g=d[f];e.T=g.boundingClientRect;g=g.target;0>c.indexOf(g)&&(g.getImpl().then(function(h){return function(k){var m=h.T;if(!b.L)if("top"==b.ba){var p=ub(b,k,m);if(p){if(b.ea!=k)var w=!1;else W(b,k.element,.02)&&(b.ea=null),w=!0;w||b.h||vb(b,k,p,m)}}else"bottom"==b.ba&&b.h&&k===b.h.video&&W(b,k,.85,m)&&X(b,k,!1,m)}}(e)),c.push(g))}}),{threshold:[0,.1,.2,.8,.9,1]}));this.X.observe(a.element);this.fa.push(a)};ob.prototype.registerElement=function(a){var b=this;a.getImpl().then((function(d){return b.register(d)}))};function U(a){a=a.j.getRootNode();return a.ownerDocument||a}function V(a,b){return(U(a).body||U(a)).appendChild(b)}function wb(a,b){function d(c){return xb(a,c)}M(b,"touchstart",d);M(b,"mousedown",d)}function pb(a){var b=new Wa(a.j),d=b.container,c=b.overlay;N(d,"dock-dismiss-on-tap",(function(){a.o().hide(!1,!0);X(a,a.h.video)}));N(d,"dock-scroll-back",(function(){a.h&&a.B.animateScrollIntoView(a.h.video.element,"center")}));wb(a,d);wb(a,c);V(a,d);V(a,c);return b}function ub(a,b,d){var c;if(!(c=a.Z)){c=d||b.element.getBoundingClientRect();var e=c.height;.98>c.width/e?(c=b.element,e=c.tagName.toUpperCase(),Ba().error(e,"Minimize-to-corner (`dock`) does not support portrait video.",c),c=!1):c=320<=a.A.width&&a.A.height>=.85*e;c=!c}!(c=c||a.h&&!(a.h&&a.h.video==b))&&(c=!a.h)&&(c=b,c=(void 0===c?null:c)||a.h.video,c="playing_manual"!=a.pa().getPlayingState(c));if(c)return null;c=b.element;var f=d||c.getBoundingClientRect(),g=la(f,a.A);(c=!g||!gb(g))||(c=g.top,e=(e=yb(a))?e.getBoundingClientRect().top:0,c=c>e);return c?null:zb(a,b,d)}function Ab(a){a=a.element||a;return a.getBoundingClientRect()}function tb(a,b){Bb(a,(function(){var d=ub(a,b);d?Cb(a,b,d,1):a.h&&a.h.video==b&&X(a,b)}))}function Bb(a,b){a.j.win.requestAnimationFrame(b)}function vb(a,b,d,c){Cb(a,b,d,.05,c,!0).then((function(){return new Promise((function(e){Bb(a,(function(){Cb(a,b,d,1,c).then(e)}))}))}))}function Cb(a,b,d,c,e,f){Db(b.element);var g=Y(b,d,c,e),h=g.relativeX,k=g.scale,m=g.x;g=g.y;b.hideControls();var p=a.h?300*Math.abs(c-a.h.step):0;Eb(a,b,d,c);return Z(a,b,m,g,k,c,p,h,e).then((function(){f||a.o().enable()}))}function Fb(a,b,d){var c=d&&d.slot||yb(a)||a.h.video.element;a=Ga(a.j.win,b,{});var e=K(c);e=Da(e);(Ea(e,"action")?F(e,"action"):null).trigger(c,b,a,1)}function Z(a,b,d,c,e,f,g,h,k,m){function p(v){return x(v,{"transition-duration":g+"ms","transition-timing-function":Kb})}function w(v){return x(v,{opacity:f})}function G(v){Lb&&x(v,{width:A+"px",height:Q+"px","min-width":A+"px","min-height":Q+"px"})}var Ma=void 0===m?"fixed":m;if(a.C&&a.C.x==d&&a.C.y==c&&a.C.scale==e)return n||(n=Promise.resolve(void 0)),k=n,k;a.L=!0;var H=b.element,R=k||b.element.getBoundingClientRect(),Q=R.height,A=R.width;a.C={x:d,y:c,scale:e};var Kb=0<f?"ease-out":"ease-in",Na=B(H),Oa=a.W(),Mb=a.o().overlay,S=a.V(),I=a.K().icon,Pa=void 0!==h,ka="left"==h;Pa&&(Ia(I,A,mb),I.classList.toggle("amp-rtl",ka),a.o().container.classList.toggle("amp-rtl",ka));var Lb=Gb(a,A,Q),Qa=I.classList.contains("amp-small"),Ob=(ka?fb:eb)(A,Qa?32:48,Qa?20:40,f);b.mutateElement((function(){Na.classList.add("i-amphtml-video-docked");x(H,{overflow:"visible"});y(Oa,!0);y(Mb,!0);ja(a.K().poster);ja(S);Hb(a,b);H.appendChild(S);Bb(a,(function(){b.mutateElement((function(){w(S);p(S);p(I);Pa&&x(I,{transform:"translate("+Ob+"px, 0px) scale(1)"})}))}));var v=0,Ra=0,Sa=0,Ta=0;"absolute"===Ma&&(v=R.left,Ra=R.top,Sa=H.offsetLeft,Ta=H.offsetTop);[B(b.element),a.W(),a.o().overlay].forEach((function(T){var Ua=Number(T!==Na);x(T,{position:Ma,left:Ua*Sa-v+"px",top:Ua*Ta-Ra+"px",transform:"translate("+d+"px, "+c+"px) scale("+e+")"});p(T);G(T)}));w(Oa);a.o().positionOnVsync(e,d,c,A,Q)}));return F(a.j.win,"timer").promise(g).then((function(){a.L=!1}))}function Hb(a,b){var d=a.K().poster;a=b.element;if(b=a.getAttribute("poster")||a.getAttribute("data-poster"))a=b;else{if(void 0!==q)var c=q;else{try{var e=a.ownerDocument,f=e.createElement("div"),g=e.createElement("div");f.appendChild(g);c=f.querySelector(":scope div")===g}catch(m){c=!1}c=q=c}c?a=a.querySelector(ea(":scope")):(a.classList.add("i-amphtml-scoped"),c=ea(".i-amphtml-scoped"),c=a.querySelectorAll(c),a.classList.remove("i-amphtml-scoped"),a=void 0===c[0]?null:c[0]);a=a?a.getAttribute("src"):void 0}var h=a;if(h){y(d,!0);a={"background-image":"url("+h+")"};for(var k in a)ua(d,k,a[k])}else y(d,!1)}function Gb(a,b,d){var c=!a.H||a.H.width!=b||a.H.height!=d;c&&(a.H={width:b,height:d});return c}function Eb(a,b,d,c){var e=a.h,f=Object.assign({},a.A);a.h={video:b,target:d,step:c,viewportRect:f};if(!(c=!e||e.video!=b)){c=d.rect;var g=e.target.rect;c=!(c&&g&&c.left==g.left&&c.top==g.top&&c.width==g.width&&c.height==g.height)}c&&(a.o().setVideo(b,d.rect),Fb(a,"dock",d))}function W(a,b,d,c){var e=d=void 0===d?1:d;b=c||Ab(b);return gb(b)?Math.max(0,(Math.min(b.bottom,a.A.bottom)-Math.max(b.top,a.A.top))/b.height)>e-.02:0}function xb(a,b){if(a.h&&!(a.h&&"slot"===a.h.target.type||a.L)){a.I=0;var d=Ja(b).x,c=a.h.target.directionX,e=nb(a.j.win,(function(h){if(a.h.target.directionX===c){var k=Ja(h).x-d;a.I=k;if(!(10>=k)){h.preventDefault();h.stopPropagation();a.o().hide(!1,!0);a.Z=!0;a.o().disable();h=a.h.video;var m=Y(h,a.h.target,1),p=m.scale,w=m.x;m=m.y;var G=Ib(a,k);G=Jb(a,G);a.J=k-a.R;a.R=k;Z(a,h,w+k,m,p,1,0,G)}}})),f=function(){return Nb(a,g)};b=a.j.getRootNode();var g=[Pb(a),Qb(a),Rb(a),M(b,"touchmove",e),M(b,"mousemove",e),Ha(b,"touchend",f),Ha(b,"mouseup",f)]}}function Qb(a){var b=U(a).documentElement;b.classList.add("i-amphtml-select-disabled");return function(){return b.classList.remove("i-amphtml-select-disabled")}}function Pb(a){a.B.disableScroll();return a.B.resetScroll.bind(a.B)}function Rb(a){function b(c){return c.preventDefault()}var d=a.j.win;if(!E(d,"platform").isIos())return function(){};d.addEventListener("touchmove",b,{passive:!1});return function(){return d.removeEventListener("touchmove",b)}}function Nb(a,b){b.forEach((function(d){return d.call()}));a.Z=!1;a.o().enable();40>Math.abs(a.J)?Sb(a,a.I):Tb(a,a.R,Math.sign(a.J));a.J=0;a.R=0;a.I=0}function Tb(a,b,d){var c=a.h.video;c.pause();if(W(a,c,.2))Ub(a,c,b,d);else{var e=a.h.target,f=e.rect,g=f.width,h=f.x;f=f.y;e=Y(c,e,1).scale;var k=1==d?a.A.right:a.A.left-g;b=Math.min(300,Math.abs(k-(h+b))/2);Vb(a);c.showControls();Z(a,c,k,f,e,0,b).then((function(){Wb(a,c)}))}}function Ub(a,b,d,c){var e=a.h.target,f=e.rect,g=f.width,h=f.x;f=f.y;e=Y(b,e,1).scale;var k=a.A.width;c=1==c?k-g:-1*(k-g);d=Math.min(300,Math.abs(c-(h+d))/2);Vb(a);Z(a,b,c,f,e,0,d).then((function(){X(a,b,!0);b.showControls()}))}function Ib(a,b){var d=a.h,c=d.step;d=d.target;var e=a.h.video;a=e.element.getBoundingClientRect().width;c=Y(e,d,c);return c.x+b+a*c.scale/2}function Sb(a,b){var d=a.h.video,c=a.h.step;b=Jb(a,b);a.D=b;var e=zb(a,d);a.h.target=e;e=Y(d,e,c);Z(a,d,e.x,e.y,e.scale,c,200,b)}function Jb(a,b){return Ib(a,b)>=a.A.width/2?"right":"left"}function Y(a,b,d,c){a=c||Ab(a);b=b.rect;var e=void 0===d?1:d;d=b.x<a.x?"left":"right";c=db(e,a.x,b.x);var f=db(e,a.y,b.y);a=db(e,a.width,b.width)/a.width;return{x:c,y:f,scale:a,relativeX:d}}function X(a,b,d,c){var e=W(a,b,.85,c);e||(b.pause(),b.showControls());d||Vb(a);var f=Y(b,a.h.target,0);Z(a,b,f.x,f.y,f.scale,0,e?a.h?300*Math.abs(0-a.h.step):0:0,f.relativeX,c,"absolute").then((function(){b.showControls();Wb(a,b)}))}function Vb(a){a.o().disable();a.o().hide(!1,!0);Fb(a,"undock")}function Wb(a,b){var d=B(b.element);b.mutateElement((function(){d.classList.remove("i-amphtml-video-docked");var c=a.W(),e=a.K().icon,f=a.V();y(c,!1);a.o().reset();[d,c,f,e].forEach((function(g){wa(g,"transform transition min-width min-height width height opacity overflow position left top".split(" "))}));a.C=null;a.H=null;a.h=null}))}function Db(a){if(a=a.querySelector(".i-amphtml-android-poster-bug")){var b;null==(b=a.parentElement)||b.removeChild(a)}}function zb(a,b,d){var c=yb(a);b=d||b.element.getBoundingClientRect();if(c){var e=c.getBoundingClientRect();a=b.height;b=b.width;var f=e.height;d=e.left;var g=e.top,h=e.width;b/a>h/f?(e=h/b,g=g+f/2-a*e/2):(e=f/a,d=d+h/2-b*e/2);return{type:"slot",rect:r(d,g,b*e,a*e),slot:c}}null===a.D&&(c=U(a),c="rtl"==(c.body.getAttribute("dir")||c.documentElement.getAttribute("dir")||"ltr"),a.D=c?"left":"right");c=a.A;g=c.width;d=Math.min(30,.04*g);g=Math.max(180,.3*g);return{type:"corner",rect:r("right"==a.D?c.right-d-g:c.left+d,d,g,g/(b.width/b.height)),directionX:a.D}}function yb(a){return(a=a.ka())&&gb(a.getBoundingClientRect())?a:null}AMP.registerServiceForDoc("video-docking",ob)}});//# sourceMappingURL=amp-video-docking-0.1.js.map