(self.AMP=self.AMP||[]).push({m:0,v:"2110121450047",n:"amp-next-page",ev:"0.1",l:false,f:function(AMP,_){"use strict";var q;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function u(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}return function(){throw Error("Cannot find global object")}()}var da=ca(this);"function"===typeof Symbol&&Symbol("x");var v;if("function"==typeof Object.setPrototypeOf)v=Object.setPrototypeOf;else{var ea;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;ea=ha.a;break a}catch(a){}ea=!1}v=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ja=v;var ka=Object.prototype,la=ka.hasOwnProperty,ma=ka.toString;function w(a){return a||{}}function na(a){return a?Array.prototype.slice.call(a):[]}var x=Array.isArray;function oa(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?c.push(f):(d<e&&(a[d]=f),d++)}d<a.length&&(a.length=d);return c}function pa(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function qa(a){return(a.ownerDocument||a).defaultView}function ra(a){return 1==(null==a?void 0:a.nodeType)?a.tagName.toLowerCase()+(a.id?"#"+a.id:""):a}function sa(a,b,c,d){var e=void 0===c?"Assertion failed":c;if(!b){a&&-1==e.indexOf(a)&&(e+=a);for(var f=3,g=e.split("%s"),h=g.shift(),k=[h];g.length;){var l=arguments[f++],m=g.shift();h+=ra(l)+m;k.push(l,m.trim())}f=Error(h);f.messageArray=oa(k,(function(t){return""!==t}));var n,p;null==(p=(n=self).__AMP_REPORT_ERROR)||p.call(n,f);throw f}}function ta(a,b){sa("​​​",a,"Object expected: %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var ua=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function va(a,b,c,d,e){return e?e:b?"�":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a}var wa;function z(a){/^[\w-]+$/.test(a)}function xa(a,b){if(void 0!==wa)var c=wa;else{try{var d=a.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(g){c=!1}c=wa=c}c?a=a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):(a.classList.add("i-amphtml-scoped"),b=b.replace(/^|,/g,"$&.i-amphtml-scoped "),b=a.querySelectorAll(b),a.classList.remove("i-amphtml-scoped"),a=b);return a}function ya(a){z("separator");return xa(a,"> [separator]")}function za(a,b){z(b);return xa(a,"> "+b)}function Aa(a){var b;null==(b=a.parentElement)||b.removeChild(a)}function Ba(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function Ca(a){var b;return"SCRIPT"==a.tagName&&"APPLICATION/JSON"==(null==(b=a.getAttribute("type"))?void 0:b.toUpperCase())}var Da=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function Ea(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function Fa(a){var b=Object.create(null);if(!a)return b;for(var c;c=Da.exec(a);){var d=Ea(c[1],c[1]);c=c[2]?Ea(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}function Ga(a){a=(a||self).location;return Fa(a.originalHash||a.hash)}function Ha(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();f=h;d||(d=a.setTimeout(c,500))}}var A=self.AMP_CONFIG||{},Ia=("string"==typeof A.cdnProxyRegex?new RegExp(A.cdnProxyRegex):A.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function Ja(a){if(!self.document||!self.document.head||self.location&&Ia.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var Ka={thirdParty:A.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:A.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof A.thirdPartyFrameRegex?new RegExp(A.thirdPartyFrameRegex):A.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:A.cdnUrl||Ja("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:Ia,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:A.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:A.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:A.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:A.geoApiUrl||Ja("amp-geo-api")};var La="";function Ma(){var a=self;if(a.__AMP_MODE)a=a.__AMP_MODE;else{var b=Ga(a)||Ga(a);b=["1","actions","amp","amp4ads","amp4email"].includes(b.development)||!!a.AMP_DEV_MODE;if(!La){var c;La=(null==(c=a.AMP_CONFIG)?void 0:c.v)||"012110121450047"}a=a.__AMP_MODE={localDev:!1,development:b,esm:!1,test:!1,rtvVersion:La}}return a}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var B=self.__AMP_LOG;function Na(){throw Error("failed to call initLogConstructor")}function C(){B.user||(B.user=Na());return B.user}function D(){return B.dev||(B.dev=Na())}function E(a,b,c,d,e){C().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}var Oa;function F(){return Oa?Oa:Oa=Promise.resolve(void 0)}function Pa(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function Qa(a){var b=G,c=H(a),d=I(c),e=J(d),f=e["position-observer"];f||(f=e["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1});f.ctor||(f.ctor=b,f.context=c,f.sharedInstance=!1,f.resolve&&K(d,"position-observer"))}function L(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return K(a,b)}function M(a,b){var c=H(a);c=I(c);return K(c,b)}function N(a,b){a=H(a);a=I(a);return Ra(a,b)?K(a,b):null}function Sa(a,b){a=I(a);var c=Ta(a,b);c?b=c:(a=J(a),a[b]=Ua(),b=a[b].promise);return b}function Va(a,b){return Ta(I(a),b)}function H(a){if(a.nodeType){var b=qa(a);return L(b,"ampdoc").getAmpDoc(a)}return a}function I(a){a=H(a);return a.isSingleDoc()?a.win:a}function K(a,b){Ra(a,b);a=J(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ta(a,b){var c=J(a)[b];if(c){if(c.promise)return c.promise;K(a,b);return c.promise=Promise.resolve(c.obj)}return null}function J(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Wa(a){a=J(a);var c,b={};for(c in a){b.D=c;if(Object.prototype.hasOwnProperty.call(a,b.D)){var d=a[b.D];d.sharedInstance||(d.obj?Xa(b.D,d.obj):d.promise&&d.promise.then(function(e){return function(f){return Xa(e.D,f)}}(b)))}b={D:b.D}}}function Xa(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){D().error("SERVICE","failed to dispose service",a,c)}}function Ra(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function Ua(){var a=new Pa,b=a.promise,c=a.reject;a=a.resolve;b.catch((function(){}));return{obj:null,promise:b,resolve:a,reject:c,context:null,ctor:null}}function Ya(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var c,d,e,g,b=a.__AMP__EXPERIMENT_TOGGLES,f=Object.assign({},null!=(d=a.AMP_CONFIG)?d:{},null!=(e=a.AMP_EXP)?e:JSON.parse((null==(c=a.__AMP_EXP)?void 0:c.textContent)||"{}"));for(g in f){var h=f[g];"number"===typeof h&&0<=h&&1>=h&&(b[g]=Math.random()<h)}var k,l=null==(k=a.AMP_CONFIG)?void 0:k["allow-doc-opt-in"];if(x(l)&&l.length){var m=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(m){var n=m.getAttribute("content").split(",");d=u(n);for(c=d.next();!c.done;c=d.next()){var p=c.value;l.includes(p)&&(b[p]=!0)}}}c=Object;d=c.assign;e="";try{"localStorage"in a&&(e=a.localStorage.getItem("amp-experiment-toggles"))}catch(ia){D().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var t;e=(null==(t=e)?void 0:t.split(/\s*,\s*/g))||[];t=Object.create(null);e=u(e);for(g=e.next();!g.done;g=e.next())(g=g.value)&&("-"==g[0]?t[g.substr(1)]=!1:t[g]=!0);d.call(c,b,t);var r,y=null==(r=a.AMP_CONFIG)?void 0:r["allow-url-opt-in"];if(x(y)&&y.length)for(a=Fa(a.location.originalHash||a.location.hash),r=u(y),c=r.next();!c.done;c=r.next())t=c.value,c=a["e-"+t],"1"==c&&(b[t]=!0),"0"==c&&(b[t]=!1);return b}function Za(a,b,c){var d=Va(a,b);if(d)return d;var e=H(a);return e.whenExtensionsKnown().then((function(){var f=e.getExtensionVersion(c);return f?L(e.win,"extensions").waitForExtension(c,f):null})).then((function(f){return f?Sa(a,b):null}))}function $a(a){var b=N(a,"bind");return b?Promise.resolve(b):Za(a,"bind","amp-bind")}function O(){this.ua=100;this.Y=this.da=0;this.R=Object.create(null)}O.prototype.has=function(a){return!!this.R[a]};O.prototype.get=function(a){var b=this.R[a];if(b)return b.access=++this.Y,b.payload};O.prototype.put=function(a,b){this.has(a)||this.da++;this.R[a]={payload:b,access:this.Y};if(!(this.da<=this.ua)){a=this.R;var d,c=this.Y+1;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.da--)}};var bb,cb,ab=new Set(["c","v","a","ad"]);function P(a){return"string"==typeof a?Q(a):a}function Q(a){bb||(bb=self.document.createElement("a"),cb=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new O));var b=bb,c=cb;if(c&&c.has(a))a=c.get(a);else{b.href=a;b.protocol||(b.href=b.href);var d={href:b.href,protocol:b.protocol,host:b.host,hostname:b.hostname,port:"0"==b.port?"":b.port,pathname:b.pathname,search:b.search,hash:b.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=b.origin&&"null"!=b.origin?b.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;c&&c.put(a,d);a=d}return a}function db(a,b){var c=void 0===c?"source":c;E(null!=a,"%s %s must be available",b,c);var d=P(a);var e;(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)||(d=d.hostname,e=d.length-10,e=0<=e&&d.indexOf(".localhost",e)==e);E(e||/^\/\//.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}function eb(a){a=P(a);if(!Ka.cdnProxyRegex.test(P(a).origin))return a.href;var b=a.pathname.split("/");E(ab.has(b[1]),"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);E(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(/[?&](amp_(js[^&=]*|gsa|r|kit)|usqp)\b[^&]*/g,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")}function fb(a,b,c){E(b,"amp-next-page config must be specified");E(x(b.pages),"pages must be an array");gb(a,b.pages,c);"hideSelectors"in b&&(E(x(b.hideSelectors),"amp-next-page hideSelectors should be an array"),hb(b.hideSelectors));return b}function gb(a,b,c){b.forEach((function(d){C().assertString(d.ampUrl,"ampUrl must be a string");var e=eb(c),f=d.ampUrl;e=P(e);if("function"==typeof URL)f=new URL(f,e.href).toString();else{e=P(e);f=f.replace(/\\/g,"/");var g=Q(f);f=f.toLowerCase().startsWith(g.protocol)?g.href:f.startsWith("//")?e.protocol+f:f.startsWith("/")?e.origin+f:e.origin+e.pathname.replace(/\/[^/]*$/,"/")+f}d.ampUrl=f;e=N(a,"url");f=e.parse(d.ampUrl);e=e.parse(c).origin;g=Q(eb(c)).origin;var h;(h=f.origin===e||f.origin===g)||((h=f.search.match(/adurl=(.*)(?:&|$)/))?(h=N(a,"url").parse(h[1]),h="https://googleads.g.doubleclick.net"===f.origin&&h.origin===e):h=!1);E(h,"pages must be from the same origin as the current document");C().assertString(d.image,"image must be a string");C().assertString(d.title,"title must be a string");g!==e&&f.origin===g&&(d.ampUrl=e+"/c/"+("https:"===f.protocol?"s/":"")+encodeURIComponent(f.host)+f.pathname+(f.search||"")+(f.hash||""))}))}var ib=[/(^|\W)i-amphtml-/];function hb(a){a.forEach((function(b){ib.forEach((function(c){C().assertString(b,"amp-next-page hideSelector value should be a string");E(!c.test(b),"amp-next-page hideSelector %s not allowed",b)}))}))}function jb(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function kb(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1}var R,lb="Webkit webkit Moz moz ms O o".split(" ");function S(a,b,c){var d=a.style;if(!b.startsWith("--")){R||(R=Object.create(null));var e=R[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var g=0;g<lb.length;g++){var h=lb[g]+f;if(void 0!==d[h]){f=h;break b}}f=""}void 0!==d[f]&&(e=f)}R[b]=e}b=e}b&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function nb(a,b,c,d){this.element=b;this.ha=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.U=null;this.h=M(a,"viewport")}nb.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.h.getSize(),d=jb(c.width,c.height);this.h.getClientRectAsync(this.element).then((function(e){var f={positionRect:e,viewportRect:d,relativePos:null},g=b.U;if(!(g&&kb(g.positionRect,f.positionRect)&&kb(g.viewportRect,f.viewportRect))){g=f.positionRect;var h=f.viewportRect;f.relativePos=g.top<h.top?"top":g.bottom>h.bottom?"bottom":"inside";h=f.viewportRect;g.top<=h.bottom&&h.top<=g.bottom&&g.left<=h.right&&h.left<=g.right?(b.U=f,b.ha(f)):b.U&&(b.U=null,f.positionRect=null,b.ha(f))}}))};function G(a){var b=this;this.ra=a;this.j=a.win;this.o=[];this.O=L(this.j,"vsync");this.h=M(a,"viewport");this.W=[];this.$=this.ba=this.aa=!1;this.ta=Ha(this.j,(function(){b.aa=!1}))}G.prototype.observe=function(a,b,c){var d=this,e=new nb(this.ra,a,b,c);this.o.push(e);this.$||ob(this);e.update();return function(){for(var f=0;f<d.o.length;f++)if(d.o[f]==e){d.o.splice(f,1);0==d.o.length&&pb(d);break}}};G.prototype.unobserve=function(a){for(var b=0;b<this.o.length;b++)if(this.o[b].element==a){this.o.splice(b,1);0==this.o.length&&pb(this);return}D().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function ob(a){a.$=!0;a.W.push(a.h.onScroll((function(){a.ta();a.aa=!0;a.ba||qb(a)})));a.W.push(a.h.onResize((function(){a.updateAllEntries(!0)})))}function pb(a){for(a.$=!1;a.W.length;)a.W.pop()()}G.prototype.updateAllEntries=function(a){for(var b=0;b<this.o.length;b++)this.o[b].update(a)};function qb(a){a.updateAllEntries();a.ba=!0;a.aa?a.O.measure((function(){qb(a)})):a.ba=!1}function rb(a,b,c){c=void 0===c?{}:c;var d=void 0===d?!0:d;var e=c;Za(a,"amp-analytics-instrumentation","amp-analytics").then((function(f){f&&f.triggerEventForTarget(a,b,e,d)}))}var sb,tb;function ub(){void 0===tb&&(tb="none"!=vb()&&(wb(Element.prototype.attachShadow)||wb(Element.prototype.createShadowRoot)));return tb}function wb(a){return!!a&&-1!=a.toString().indexOf("[native code]")}function vb(){if(void 0===sb){var a=Element;sb=a.prototype.attachShadow?"v1":a.prototype.createShadowRoot?"v0":"none"}return sb}
/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved. Use of this source code is governed by a BSD-style license that can be found in the LICENSE file or at https://developers.google.com/open-source/licenses/bsd */
var Ab={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,(function(e){if(e.selectorText&&e.style&&void 0!==e.style.cssText)d+=this.scopeSelector(e.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(e)+"\n}\n\n";else if(e.type===CSSRule.MEDIA_RULE)d+="@media "+e.media.mediaText+" {\n",d+=this.scopeRules(e.cssRules,b),d+="\n}\n\n";else try{e.cssText&&(d+=e.cssText+"\n\n")}catch(f){e.type===CSSRule.KEYFRAMES_RULE&&e.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(e))}}),this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,(function(c){b+=" "+c.keyText+" {"+c.style.cssText+"}"}));return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach((function(f){f=f.trim();d&&(f=d(f));this.selectorNeedsScoping(f,b)&&(f=c&&!f.match(xb)?this.applyStrictSelectorScope(f,b):this.applySelectorScope(f,b));e.push(f)}),this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+yb,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var e,c=[],d=0;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(zb)?(a=a.replace(xb,b),a.replace(zb,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach((function(f){d=d.split(f).map((function(g){var h=g.trim().replace(zb,"");h&&0>c.indexOf(h)&&0>h.indexOf(e)&&(g=h.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return g})).join(f)}));return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}},yb="([>\\s~+[.,{:][\\s\\S]*)?$",xb="-shadowcsshost-no-combinator",zb=/-shadowcsshost/gim;function T(a,b,c,d){var e=a.getHeadNode();var f=(a=e.__AMP_CSS_TR)?a(b):b;a:{var g=c||!1,h=d||null;(b=e.__AMP_CSS_SM)||(b=e.__AMP_CSS_SM=Object.create(null));var k=!g&&h&&"amp-custom"!=h&&"amp-keyframes"!=h;if(a=g?"amp-runtime":k?"amp-extension="+h:null){var l=Bb(e,b,a);if(l){l.textContent!==f&&(l.textContent=f);break a}}l=(e.ownerDocument||e).createElement("style");l.textContent=f;f=null;g?l.setAttribute("amp-runtime",""):k?(l.setAttribute("amp-extension",h||""),f=Bb(e,b,"amp-runtime")):(h&&l.setAttribute(h,""),f=e.lastChild);g=f;(g=void 0===g?null:g)?e.insertBefore(l,g.nextSibling):e.insertBefore(l,e.firstChild);a&&(b[a]=l)}}function Bb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}function Cb(a,b){a.__AMP_CSS_TR=b}function Db(a){this.H=a.document.implementation.createHTMLDocument("");this.H.open();this.O=L(a,"vsync");this.sa=this.wa.bind(this);this.L=this.J=this.K=null;this.ca=!1;this.N=F();this.F=!1;this.V=null}q=Db.prototype;q.onBody=function(a){this.K=a};q.onBodyChunk=function(a){this.J=a};q.onEnd=function(a){this.L=a};q.write=function(a){if(this.F)throw Error("closed already");a&&this.H.write(a);Eb(this);return this.N};q.close=function(){this.H.close();this.F=!0;Eb(this);return this.N};q.abort=function(){throw Error("Not implemented")};q.releaseLock=function(){throw Error("Not implemented")};function Eb(a){a.ca||(a.ca=!0,a.O.mutate(a.sa))}q.wa=function(){this.ca=!1;!this.V&&this.H.body&&(this.V=this.K(this.H));if(this.V){var a=this.H.body,b=this.V,c=0;for(Fb(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.J()}this.F&&this.L()};da.Object.defineProperties(Db.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function Gb(a){this.ga=[];this.O=L(a,"vsync");this.L=this.J=this.K=null;this.N=F();this.F=!1}q=Gb.prototype;q.onBody=function(a){this.K=a};q.onBodyChunk=function(a){this.J=a};q.onEnd=function(a){this.L=a};q.write=function(a){if(this.F)throw Error("closed already");a&&this.ga.push(a);return this.N};q.close=function(){var a=this;this.F=!0;this.O.mutate((function(){var b=a.ga.join(""),c=(new DOMParser).parseFromString(b,"text/html");if(c.body){b=c.body;c=a.K(c);var d=0;for(Fb(b);b.firstChild;)d++,c.appendChild(b.firstChild);0<d&&a.J()}a.L()}));return this.N};q.abort=function(){throw Error("Not implemented")};q.releaseLock=function(){throw Error("Not implemented")};da.Object.defineProperties(Gb.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function Fb(a){var b=za(a,"noscript");Ba(b,(function(c){Aa(c)}))}var Jb,Hb=/[^\.\-_0-9a-zA-Z]/,Ib=/[^\-_0-9a-zA-Z]/;function Kb(a){var b=qa(a),c=a.shadowRoot||a.__AMP_SHADOW_ROOT;if(c)return c.innerHTML="",c;var d=vb();if("v1"==d){var e=a.attachShadow({mode:"open"});e.styleSheets||Object.defineProperty(e,"styleSheets",{get:function(){var g=[];Ba(e.childNodes,(function(h){"STYLE"===h.tagName&&g.push(h.sheet)}));return g}})}else e="v0"==d?a.createShadowRoot():Lb(a);if(!ub()){var f="i-amphtml-sd-"+b.Math.floor(1e4*b.Math.random());e.id=f;e.host.classList.add(f);Cb(e,(function(g){var h=e,k=h.id;h=h.ownerDocument;var l=null;try{l=Mb(h.implementation.createHTMLDocument(""),g)}catch(m){}if(!l)try{l=Mb(h,g)}catch(m){}return l?Ab.scopeRules.call(Ab,l,"."+k,Nb):g}))}return e}function Lb(a){var b=a.ownerDocument;a.classList.add("i-amphtml-shadow-host-polyfill");var c=b.createElement("style");c.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";a.appendChild(c);var d=b.createElement("i-amphtml-shadow-root");a.appendChild(d);a.__AMP_SHADOW_ROOT=d;Object.defineProperty(a,"shadowRoot",{enumerable:!0,configurable:!0,value:d});d.host=a;d.getElementById=function(e){e=String(e).replace(ua,va);return d.querySelector("#"+e)};Object.defineProperty(d,"styleSheets",{get:function(){return b.styleSheets?na(b.styleSheets).filter((function(e){return d.contains(e.ownerNode)})):[]}});return d}function Ob(a,b,c){var d=a.ownerDocument;if(ub())var e=d.importNode(b,c);else{e=d.createElement("amp-body");e.style.display="block";for(var f=0;f<b.attributes.length;f++)e.setAttribute(b.attributes[0].name,b.attributes[0].value);if(c)for(b=b.firstChild;b;b=b.nextSibling)e.appendChild(d.importNode(b,!0))}S(e,"position","relative");var g=a.body;g&&a.removeChild(g);a.appendChild(e);Object.defineProperty(a,"body",{configurable:!0,value:e});return e}function Nb(a){return a.replace(/(html|body)/g,Pb)}function Pb(a,b,c,d){var e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!Hb.test(e)||f&&!Ib.test(f)?a:"amp-"+a}function Mb(a,b){var c=a.createElement("style");c.textContent=b;try{return(a.head||a.documentElement).appendChild(c),c.sheet?c.sheet.cssRules:null}finally{c.parentNode&&c.parentNode.removeChild(c)}}function Qb(a){void 0===Jb&&(Jb=!a.document.implementation||"function"!=typeof a.document.implementation.createHTMLDocument||L(a,"platform").isFirefox()?!1:!0);return Jb?new Db(a):new Gb(a)}function U(a,b,c,d){this.win=a;this.qa=b;this.va=c;this.ea=d;this.I=[]}U.prototype.P=function(a,b,c,d){var e=this;c=c||Object.create(null);Rb(this);S(a,"visibility","hidden");var f=Kb(a);f.AMP&&(C().warn("multidoc-manager","Shadow doc wasn't previously closed"),Sb(this,f));var g={};f.AMP=g;g.url=b;var h=Q(b).origin,k=this.qa.installShadowDoc(b,f,{params:c});g.ampdoc=k;D().fine("multidoc-manager","Attach to shadow root:",f,k);T(k,AMP.combinedCss,!0);AMP.installAmpdocServices(k);var l=M(k,"viewer");g.setVisibilityState=function(n){k.overrideVisibilityState(n)};g.postMessage=l.receiveMessage.bind(l);var m;g.onMessage=function(n){m=n};l.setMessageDeliverer((function(n,p,t){if("broadcast"==n)return Tb(e,p,f),t?F():void 0;var r;return null==(r=m)?void 0:r(n,p,t)}),h);g.close=function(){return Sb(e,f)};Ma().development&&(g.toggleRuntime=l.toggleRuntime.bind(l),g.resources=M(k,"resources"));g.getState=function(n){return $a(f).then((function(p){return p?p.getState(n):Promise.reject("amp-bind is not available in this document")}))};g.setState=function(n){return $a(f).then((function(p){return p?"string"===typeof n?p.setStateWithExpression(n,{}):"[object Object]"===ma.call(n)||x(n)?p.setStateWithObject(n):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")}))};d(g,f,k).then((function(){k.setReady();k.signals().signal("render-start");S(a,"visibility","visible")}));this.I.includes(f)||this.I.push(f);D().fine("multidoc-manager","Shadow root initialization is done:",f,k);return g};U.prototype.attachShadowDoc=function(a,b,c,d){var e=this;C().assertString(c);D().fine("multidoc-manager","Attach shadow doc:",b);return this.P(a,c,d,(function(f,g,h){Ub(e,h,g,b);b.body&&(f=Ob(g,b.body,!0),f.classList.add("amp-shadow"),h.setBody(f));setTimeout((function(){h.signals().signal("render-start");S(a,"visibility","visible")}),50);return F()}))};U.prototype.attachShadowDocAsStream=function(a,b,c){var d=this;C().assertString(b);D().fine("multidoc-manager","Attach shadow doc as stream");return this.P(a,b,c,(function(e,f,g){var h=!1,k=Qb(d.win);e.writer=k;k.onBody((function(l){Ub(d,g,f,l);l=Ob(f,l.body,!1);l.classList.add("amp-shadow");g.setBody(l);return l}));k.onBodyChunk((function(){h||(h=!0,setTimeout((function(){g.signals().signal("render-start");S(a,"visibility","visible")}),50))}));return new Promise((function(l){k.onEnd((function(){l();e.writer=null}))}))}))};function Ub(a,b,c,d){if(d.head){c.AMP.head=d.head;for(var e={},f=za(a.win.document.head,"link"),g=0;g<f.length;g++){var h=f[g].getAttribute("href");h&&(e[h]=!0)}for(d=d.head.firstElementChild;d;d=d.nextElementSibling){g=d.tagName;var k=d.getAttribute("name"),l=d.getAttribute("rel");switch(g){case"TITLE":c.AMP.title=d.textContent;D().fine("multidoc-manager","- set title: ",c.AMP.title);break;case"META":d.hasAttribute("charset")||"viewport"!=k&&(k?b.setMetaByName(k,d.getAttribute("content")||""):D().warn("multidoc-manager","meta ignored: ",d));break;case"LINK":g=d.getAttribute("href");"canonical"==l?(c.AMP.canonicalUrl=g,D().fine("multidoc-manager","- set canonical: ",c.AMP.canonicalUrl)):"stylesheet"==l?e[g]?(D().fine("multidoc-manager","- stylesheet already included: ",g),T(b,'@import "'+g+'"',!1)):(e[g]=!0,k=a.win.document.createElement("link"),k.setAttribute("rel","stylesheet"),k.setAttribute("type","text/css"),k.setAttribute("href",g),a.win.document.head.appendChild(k),D().fine("multidoc-manager","- import font to parent: ",g,k)):D().fine("multidoc-manager","- ignore link rel=",l);break;case"STYLE":d.hasAttribute("amp-boilerplate")?D().fine("multidoc-manager","- ignore boilerplate style: ",d):d.hasAttribute("amp-custom")?(T(b,d.textContent,!1,"amp-custom"),D().fine("multidoc-manager","- import style: ",d)):d.hasAttribute("amp-keyframes")&&(T(b,d.textContent,!1,"amp-keyframes"),D().fine("multidoc-manager","- import style: ",d));break;case"SCRIPT":if(d.hasAttribute("src")){D().fine("multidoc-manager","- src script: ",d);g=d.getAttribute("src");if(g){var m=g.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i);k=m?m[2]:void 0;m=m?m[3]:void 0;k=k&&m?{extensionId:k,extensionVersion:m}:null}else k=null;var n=d.getAttribute("custom-element"),p=d.getAttribute("custom-template");m=n||p;k?m?a.va.installExtensionForDoc(b,m,k.extensionVersion):d.hasAttribute("data-amp-report-test")||C().error("multidoc-manager","- unknown script: ",d,g):D().fine("multidoc-manager","- ignore runtime script: ",g)}else-1==(d.getAttribute("type")||"application/javascript").indexOf("javascript")?(c.appendChild(a.win.document.importNode(d,!0)),D().fine("multidoc-manager","- non-src script: ",d)):d.hasAttribute("amp-onerror")||C().error("multidoc-manager","- unallowed inline javascript: ",d);break;case"NOSCRIPT":break;default:C().error("multidoc-manager","- UNKNOWN head element:",d)}}}b.setExtensionsKnown()}function Tb(a,b,c){Rb(a);a.I.forEach((function(d){if(d!=c){var e=M(d.AMP.ampdoc,"viewer");a.ea.delay((function(){e.receiveMessage("broadcast",b,!1)}),0)}}))}function Sb(a,b){Vb(a,b);var c=b.AMP;delete b.AMP;var d=c.ampdoc;d.overrideVisibilityState("inactive");Wa(d);return a.ea.timeoutPromise(15,new a.win.Promise((function(e){Va(d,"resources").then((function(f){if(f)f.onNextPass(e);else e()}))})),"Timeout reached waiting for visibility state change callback").catch((function(e){C().info("multidoc-manager",e)}))}function Vb(a,b){b=a.I.indexOf(b);-1!=b&&a.I.splice(b,1)}function Wb(a,b){a.ea.delay((function(){Sb(a,b)}),0)}function Rb(a){a.I.forEach((function(b){var c;if(!(c=!b.host)){c=b.host;var d=c.isConnected;if(void 0!==d)c=d;else{do{if(Node.prototype.getRootNode)c=c.getRootNode()||c;else for(;c.parentNode&&(!c||"I-AMPHTML-SHADOW-ROOT"!=c.tagName&&(11!=c.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(c)));c=c.parentNode);if(c.host)c=c.host;else break}while(1);c=c.nodeType===Node.DOCUMENT_NODE}c=!c}c&&(C().warn("multidoc-manager","Shadow doc wasn't previously closed"),Vb(a,b),Wb(a,b))}))}function V(){this.ka=this.la=this.oa=this.A=this.pa=this.T=this.j=null;this.G=0;this.S=!1;this.M=this.h=this.ma=null;this.B=[];this.Z=null;this.fa=function(){};this.X=null;this.na="";this.ja=null}V.prototype.isActive=function(){return null!==this.A};V.prototype.register=function(a,b,c){var d=this;if(!this.isActive()){var e=H(a),f=e.win;this.A=b;this.j=f;this.oa=c||Xb(this);this.T=a;this.pa=L(f,"xhr");this.A.hideSelectors&&(this.ia=this.A.hideSelectors.join(","));this.ma=M(e,"navigation");this.h=M(e,"viewport");this.la=M(e,"mutator");this.ka=new U(f,L(f,"ampdoc"),L(f,"extensions"),K(f,"timer"));this.X=N(this.T,"url");this.na=this.X.parse(e.getUrl()).origin;this.ja=M(e,"history");Qa(e);this.M=M(a,"position-observer");var g=M(e,"documentInfo").get().canonicalUrl,h=Yb(f.document.location.href,f.document.title,g);h.amp={ampdoc:e,url:f.document.location.href,title:f.document.title,canonicalUrl:g};this.B.push(h);this.Z=this.B[0];this.h.onScroll((function(){return W(d)}));this.h.onResize((function(){return W(d)}));W(this)}};V.prototype.setAppendPageHandler=function(a){this.fa=a};V.prototype.P=function(a,b){if(this.ia)for(var c=b.querySelectorAll(this.ia),d=0;d<c.length;d++)c[d].classList.add("i-amphtml-next-page-hidden");c=b.querySelectorAll("amp-analytics");for(d=0;d<c.length;d++)Aa(c[d]);a=this.ka.attachShadowDoc(a,b,"",{visibilityState:"prerender"});b=a.ampdoc;T(b,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",!1,"amp-next-page");b.getBody().classList.add("i-amphtml-next-page-document");return a};function Zb(a){var b=a.j.document.createElement("div");b.classList.add("i-amphtml-next-page-measurer");return b}function Xb(a){a=a.j.document.createElement("div");a.classList.add("amp-next-page-default-separator");return a}function $b(a){if(a.G<a.A.pages.length){var b=a.A.pages[a.G],c=Yb(b.ampUrl);a.B.push(c);var d=a.j.document.createElement("div"),e=Zb(a);d.appendChild(e);var f=a.oa.cloneNode(!0);f.removeAttribute("separator");d.appendChild(f);var g=ac(a,a.G);d.appendChild(g);c.recUnit.el=g;var h=a.j.document.createElement("div");d.appendChild(h);var k=a.G;a.fa(d).then((function(){a.M.observe(e,0,(function(l){if(l&&null===l.positionRect){var m=a.B[k],n="";switch(l.relativePos){case"top":m=a.B[k+1];n="amp-next-page-scroll";break;case"bottom":n="amp-next-page-scroll-back"}m&&m.amp&&(bc(a,n,m.ampUrl,a.Z.ampUrl),cc(a,m))}}));a.M.observe(g,0,(function(){c.cancelled=!0;c.recUnit.isObserving&&(a.M.unobserve(c.recUnit.el),c.recUnit.isObserving=!1)}))}));2<=a.G||(a.G++,a.pa.fetch(b.ampUrl,{ampCors:!1}).then((function(l){c.ampUrl=l.url;var m=a.X.parse(l.url);E(m.origin===a.na,"ampUrl resolved to a different origin from the origin of the current document");return l.text()})).then((function(l){var m=a.j.document.implementation.createHTMLDocument("");m.open();m.write(l);m.close();return m})).then((function(l){return new Promise((function(m,n){c.cancelled?m():(c.recUnit.isObserving&&(a.M.unobserve(g),c.recUnit.isObserving=!0),a.la.mutateElement(d,(function(){try{c.amp=a.P(h,l);var p=c.recUnit.el,t=!1;void 0===t&&(t=p.hasAttribute("hidden"));t?p.removeAttribute("hidden"):p.setAttribute("hidden","");a.S=!1;m()}catch(r){n(r)}})))}))}),(function(l){return C().error("amp-next-page","failed to fetch %s",b.ampUrl,l)})).catch((function(l){return D().error("amp-next-page","failed to attach shadow document for %s",b.ampUrl,l)})).then((function(){return W(a)})))}}function ac(a,b){var c=a.j.document,d=b-1,e=b,f="";0<b&&(f=a.B[d].ampUrl);var g=c.createElement("div");g.classList.add("amp-next-page-links");for(var h={};e<a.A.pages.length&&3>e-b;){h.C=a.A.pages[e];e++;var k=c.createElement("a");k.href=h.C.ampUrl;k.classList.add("i-amphtml-reco-holder-article","amp-next-page-link");k.addEventListener("click",function(n){return function(p){bc(a,"amp-next-page-click",n.C.ampUrl,f);a.ma.navigateToAmpUrl(n.C.ampUrl,"content-discovery")&&p.preventDefault()}}(h));var l=c.createElement("div");l.classList.add("i-amphtml-next-article-image","amp-next-page-image");S(l,"background-image","url("+h.C.image+")");k.appendChild(l);var m=c.createElement("div");m.classList.add("i-amphtml-next-article-title","amp-next-page-text");m.textContent=h.C.title;k.appendChild(m);g.appendChild(k);h={C:h.C}}return g}function W(a){if(!a.S){var b=a.h.getSize(),c=jb(b.width,b.height);a.h.getClientRectAsync(a.T).then((function(d){!a.S&&d.bottom-c.bottom<3*b.height&&(a.S=!0,$b(a))}))}}function cc(a,b){a.B.forEach((function(c){var d=c.amp;if(c===b){a.j.document.title=d.title||"";a.Z=c;var e=c.amp;d=e.canonicalUrl;e=e.title;var f=a.X.parse(c.ampUrl);a.ja.replace({title:e,url:f.pathname+f.search,canonicalUrl:d});dc(a,c,"visible")}else dc(a,c,"hidden")}))}function dc(a,b,c){b!==a.B[0]&&(a=b.amp&&b.amp.ampdoc)&&(a.hasBeenVisible()||"hidden"!=c)&&b.amp.setVisibilityState(c)}function bc(a,b,c,d){d=d||"";var e=w({toURL:c,fromURL:d});rb(a.T,b,e)}function Yb(a,b,c){return{ampUrl:a,amp:b||c?{title:b,canonicalUrl:c}:null,recUnit:{el:null,isObserving:!1},cancelled:!1}}function ec(a,b){var c={urlReplacement:2};c=void 0===c?{}:c;var d=void 0===c.expr?".":c.expr,e=void 0===c.urlReplacement?0:c.urlReplacement,f=void 0===c.refresh?!1:c.refresh,g=void 0===c.xssiPrefix?void 0:c.xssiPrefix;db(b.getAttribute("src"),b);var h=L(a.win,"batched-xhr");return fc(b,e,f).then((function(k){return h.fetchJson(k.xhrUrl,k.fetchOpt)})).then((function(k){return L(a.win,"xhr").xssiJson(k,g)})).then((function(k){if(null==k)throw Error("Response is undefined.");var l=d||".";if("."!=l){l=l.split(".");l=u(l);for(var m=l.next();!m.done;m=l.next())if((m=m.value)&&k&&void 0!==k[m]&&"object"==typeof k&&la.call(k,m))k=k[m];else{k=void 0;break}}return k})).catch((function(k){throw C().createError("failed fetching JSON data",k)}))}function fc(a,b,c){var d=a.getAttribute("src"),e=N(a,"url-replace");return(1<=b?e.expandUrlAsync(d):Promise.resolve(d)).then((function(f){if(1==b){var g=e.collectDisallowedVarsSync(a);if(0<g.length)throw C().createError('URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. Please add data-amp-replace="'+g.join(" ")+'" to the <'+a.tagName+"> element. See https://bit.ly/amp-var-subs.")}var h={};a.hasAttribute("credentials")&&(h.credentials=a.getAttribute("credentials"));c&&(h.cache="reload");return{xhrUrl:f,fetchOpt:h}}))}function gc(a,b){var c=b=void 0===b?"default":b;return Za(a,"consentPolicyManager","amp-consent").then((function(d){return d?d.whenPolicyResolved(c):null}))}var hc=["GET","POST"];function ic(a,b){var c=Object.assign({},b),d=b.body;if(d&&"function"==typeof d.getFormData){var e=b.body;c.headers["Content-Type"]="multipart/form-data;charset=utf-8";b=e.entries();d=[];for(var f=b.next();!f.done;f=b.next())d.push(f.value);c.body=d}return{input:a,init:c}}function jc(a,b){ta("[object Object]"===ma.call(a),a);if("document"!=b)return new Response(a.body,a.init);var c=Object.create(null),d={status:200,statusText:"OK",getResponseHeader:function(f){return c[String(f).toLowerCase()]||null}};if(a.init){var e=a.init;x(e.headers)&&e.headers.forEach((function(f){var g=f[1];c[String(f[0]).toLowerCase()]=String(g)}));e.status&&(d.status=parseInt(e.status,10));e.statusText&&(d.statusText=String(e.statusText))}return new Response(a.body?String(a.body):"",d)}function kc(a,b,c,d){if(!b)return F();var e=d.prerenderSafe?F():b.whenFirstVisible(),f=M(b,"viewer"),g=Ka.cdnProxyRegex.test(P(c).origin),h=f.hasCapability("xhrInterceptor"),k=d.bypassInterceptorForDev&&!1;return g||!h||k||!b.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?e:e.then((function(){return f.isTrustedViewer()})).then((function(l){if(l||Ya(a)["untrusted-xhr-interception"]){var m=w({originalRequest:ic(c,d)});return f.sendMessageAwaitResponse("xhr",m).then((function(n){return jc(n,d.responseType)}))}}))}function lc(a,b,c){!1!==c.ampCors&&(c=Q(b),c=Fa(c.search),E(!("__amp_source_origin"in c),"Source origin is not allowed in %s",b),a=Q(eb(a.location.href)).origin,a=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(a))&&(b=b.split("#",2),c=b[0].split("?",2),a=c[0]+(c[1]?"?"+c[1]+"&"+a:"?"+a),b=a+=b[1]?"#"+b[1]:"");return b}function mc(a){a=a||{};var b=a.method;void 0===b?b="GET":(b=b.toUpperCase(),hc.includes(b));a.method=b;a.headers=a.headers||w({});a.headers.Accept="text/html";return a}function nc(a,b,c){c=c||{};var d=a.origin||Q(a.location.href).origin;a=Q(b).origin;d==a&&(c.headers=c.headers||{},c.headers["AMP-Same-Origin"]="true");return c}function oc(a){return new Promise((function(b){if(a.ok)return b(a);b=a.status;var c=C().createError("HTTP error "+b);c.retriable=415==b||500<=b&&600>b;c.response=a;throw c}))}function pc(a,b,c){var d=mc(c);d=nc(a,b,d);b=lc(a,b,d);c=L(a,"ampdoc");c=c.isSingleDoc()?c.getSingleDoc():null;d.responseType="document";return kc(a,c,b,d).then((function(e){return e?e.text().then((function(f){return(new DOMParser).parseFromString(f,"text/html")})):qc(b,d).then((function(f){return f.xhr.responseXML}))}))}function qc(a,b){return new Promise((function(c,d){var e=new XMLHttpRequest;e.open(b.method||"GET",a,!0);e.withCredentials="include"==b.credentials;e.responseType="document";for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);e.onreadystatechange=function(){if(!(2>e.readyState))if(100>e.status||599<e.status)e.onreadystatechange=null,d(C().createExpectedError("Unknown HTTP status "+e.status));else if(4==e.readyState){var g={status:e.status,statusText:e.statusText,headers:rc(e.getAllResponseHeaders())};g=new Response("",g);g=oc(g).then((function(h){return{response:h,xhr:e}}));c(g)}};e.onerror=function(){d(C().createExpectedError("Request failure"))};e.onabort=function(){d(C().createExpectedError("Request aborted"))};"POST"==b.method?e.send(b.body):e.send()}))}function rc(a){var b=w({});a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(c){var d=c.split(":"),e=d.shift().trim();e&&(d=d.join(":").trim(),b[e]=d)}));return b}function X(){return AMP.BaseElement.apply(this,arguments)||this}var Y=AMP.BaseElement;X.prototype=ba(Y.prototype);X.prototype.constructor=X;if(ja)ja(X,Y);else for(var Z in Y)if("prototype"!=Z)if(Object.defineProperties){var sc=Object.getOwnPropertyDescriptor(Y,Z);sc&&Object.defineProperty(X,Z,sc)}else X[Z]=Y[Z];X.xa=Y.prototype;X.prototype.isLayoutSupported=function(a){return"container"==a};X.prototype.buildCallback=function(){var a=this;E(!!Ya(this.win)["amp-next-page"],"Experiment amp-next-page disabled");var b=ya(this.element);E(1>=b.length,"%s should contain at most one <div separator> child","amp-next-page");var c=null;1===b.length&&(c=b[0],Aa(c));return Sa(this.getAmpDoc(),"next-page").then((function(d){if(!d.isActive()){var e=a.element;e.classList.add("i-amphtml-next-page");var f=e.hasAttribute("deep-parsing")?"deep-parsing":e.hasAttribute("xssi-prefix")?"xssi-prefix":e.hasAttribute("max-pages")?"max-pages":null;f&&tc(f);var g=e.getAttribute("src"),h=Promise.resolve([]),k=e.getAttribute("type");if(k){E("adsense"===k,"amp-next-page only supports type=adsense");var l=e.getAttribute("data-client"),m=e.getAttribute("data-slot");E(/^ca-pub-\d+$/.test(l),"amp-next-page AdSense client should be of the format 'ca-pub-123456'");E(/^\d+$/.test(m),"amp-next-page AdSense slot should be a number");var n=a.getConsentPolicy();h=(n?gc(e,n).catch((function(r){C().error("amp-next-page","Error determining consent state",r);return 4})):Promise.resolve(1)).then((function(r){return uc(a,l,m,1===r||3===r)})).catch((function(r){C().warn("amp-next-page","error fetching recommendations from AdSense",r);return[]}))}var p=vc(a);var t=g?wc(a).catch((function(r){return C().error("amp-next-page","error fetching config",r)})):Promise.resolve(p);p&&(g||k)&&tc("mixing configuration types");E(p||g||k,"%s should contain a <script> child, a URL specified in [src], or a [type]","amp-next-page");return Promise.all([t,h]).then((function(r){var y=r[0]||{};y.pages=(r[1]||[]).concat(y.pages||[]);xc(a,d,y,c)}))}}))};function vc(a){var b=za(a.element,"SCRIPT");if(!b.length)return null;E(1===b.length,"amp-next-page should contain at most one <script> child");a=b[0];E(Ca(a),'amp-next-page config should be inside a <script> tag with type="application/json"');return pa(a.textContent,(function(c){C().error("amp-next-page","failed to parse config",c)}))}function uc(a,b,c,d){var e="https://googleads.g.doubleclick.net/pagead/ads?client="+b+"&slotname="+c+"&url="+encodeURIComponent(a.getAmpDoc().getUrl())+"&ecr=1&crui=title&is_amp=3&output=xml";return pc(a.win,e,{credentials:d?"include":"omit"}).then((function(f){var g=N(a.element,"url"),h=g.parse(a.getAmpDoc().getUrl()).origin,k=[],l=f.getElementsByTagName("AD");for(f=0;f<l.length;f++){var m=l[f];z("LINE1");var n=m.querySelector("LINE1");z("MEDIA_TEMPLATE_DATA");var p=m.querySelector("MEDIA_TEMPLATE_DATA"),t=m.getAttribute("visible_url"),r=m.getAttribute("url"),y=n;y=(y&&y.textContent||"").trim();try{var ia=JSON.parse(p.textContent.trim().slice(0,-1))[0].core_image_url}catch(Ac){ia=""}var mb=ia;g.parse(t).origin===h&&r&&y&&mb&&k.push({title:y,image:mb,ampUrl:r})}return k}))}function xc(a,b,c,d){var e=a.element,f=fb(e,c,a.getAmpDoc().getUrl());b.register(e,f,d);b.setAppendPageHandler((function(g){return yc(a,g)}))}function yc(a,b){return a.mutateElement((function(){return a.element.appendChild(b)}))}function wc(a){var b=a.getAmpDoc();return ec(b,a.element)}function tc(a){C().warn("amp-next-page",a+" is a feature of amp-next-page 1.0, please update your version to use it")}var zc=new V;AMP.registerServiceForDoc("next-page",(function(){return zc}));AMP.registerElement("amp-next-page",X,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/")}});//# sourceMappingURL=amp-next-page-0.1.js.map